{"version":3,"sources":["helpers.js","actions/excelActions.js","actions/logActions.js","actions/menuActions.js","actions/configActions.js","actions/internalActions.js","actions/selfLearningActions.js","components/Sidebar.js","components/modals/LogModal.js","components/ComList.js","components/OutputList.js","components/InputList.js","components/TableCell.js","components/Table.js","components/util/ReactTableWrapper.js","components/modals/SelfLearningModal.js","components/SelfLearning.js","components/Logo.js","components/Infobar.js","components/Main.js","App.js","reducers/configReducer.js","reducers/staticReducer.js","reducers/internalReducer.js","reducers/miscReducer.js","reducers/rootReducer.js","actions/messageTypes.js","actions/socketApi.js","serviceWorker.js","index.js","actions/types.js","assets/Logo-MBDC.jpg"],"names":["get","object","address","parts","replace","split","length","index","match","slice","newAddress","Number","set","newValue","makeForm","value","config","changeConfig","name","arguments","undefined","type","Array","isArray","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","Object","keys","map","key","element","filter","conditions","condition","Fragment","oldName","className","contents","configuration","location","structure","defaultStruct","defaults","onClick","splice","concat","options","keyOptions","option","onChange","e","target","entries","entry","numeric","event","min","max","step","checked","rounding","round","num","digits","factor","Math","pow","getColumnWidth","rows","accessor","cellLength","apply","C_Users_1_serialserverclient2_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","row","daysToDate","days","Date","downloadExcel","window","href","uploadExcelTemplate","input","document","accept","onchange","data","FormData","append","files","axios","post","then","alert","catch","click","getLogList","dispatch","getState","_ref","emit","list","RECEIVE_LOG_LIST","payload","openMenu","OPEN_MENU","reboot","setTimeout","loadConfig","getLogo","asyncToGenerator","regenerator_default","mark","_callee","logo","wrap","_context","prev","next","abrupt","stop","this","CONFIG_CHANGE","getConfigList","RECEIVE_CONFIG_LIST","_ref3","RECEIVE_CONFIG","JSON","parse","result","console","log","err","configExists","_ref4","Promise","resolve","_ref5","saveConfig","_ref6","newConfig","stringify","loaded","locked","hasChanged","confirm","consistent","CONFIG_LOCK","reload","setDateTime","date","resetSLData","success","Sidebar","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggleConfigLock","isMenuOpen","configLocked","unlockConfig","openUploadModal","setState","uploadModalIsOpen","closeMenu","closeUploadModal","openLogModal","logModalIsOpen","closeLogModal","openDateTimeModal","dateTimeModalIsOpen","closeDateTimeModal","openNewCycleModal","newCycleModalIsOpen","closeNewCycleModal","uploadLog","deleteLog","downloadAllLogs","deleteAllLogs","handleQSClicked","state","qsClickedTimes","confirmPassword","prompt","correct","newDate","moment","time","format","_this2","isUndefined","comIndex","serial","coms","newCycleValues","selfLearning","resetSL","logID","startCalibration","totalNumber","react_default","lib_default","isOpen","onRequestClose","overlayClassName","contentLabel","logList","downloadLog","ftpTargets","onSubmit","preventDefault","BurgerMenu","right","customBurgerIcon","pageWrapId","outerContainerId","onStateChange","newState","width","exposeSettings","component_default","selfLearningEnabled","endsWith","writeLogs","exposeUpload","uploadExcel","exposeShutdown","shutdown","QS","Component","connect","static","misc","logger","writeToFile","FTP","targets","enabled","fileList","i","CONFIG_UNLOCK","toggleMenu","TOGGLE_MENU","CLOSE_MENU","_ref2","msg","password","callback","_ref7","LogModal","changeFilterType","filterType","filterTypes","id","title","full","uniqueLogEnabled","push","TU","activityCounter","TA","currentFilter","find","_this$props$loggerSta","loggerState","accessors","legend","visible","columns","Header","style","textAlign","Cell","toFixed","_","column","filteredEntries","onClose","react_table_es","fontSize","unique","internal","configurationValues","mode","reader","test","testMessage","readerPort","baudRate","stopBits","bits","parity","none","even","odd","space","RTSCTS","XONXOFF","average","alwaysPositive","timeoutReset","timeout","prefix","postfix","autoCommandEnabled","autoCommandMin","autoCommandMax","autoCommandTime","autoCommandText","ComList","openConfigModal","configModalIsOpen","closeConfigModal","toggleShowHistory","showHistory","com","objectSpread","classNames","comElement--wide","ReactFitText_default","compressor","comElement--content--testMode","history","timeString","Modal","setAppElement","output","ports","hardwareOutput","-1","0","1","2","3","4","5","6","7","8","9","formula","execute","seconds","manualConfirmation","OutputList","configPortIndex","outputs","port","portsEnabled","indicator","isForced","forceOutput","hardwareInput","","exe","exebl","reset","teach","restart","command","commandCom","com0","com1","commandValue","invert","follow","manualTimeout","InputList","inputs","forceInput","TableCell","content","cell","classnames","tableCell--content--input--text","tableCell--content--input--numeric","message","manualFunction","menuOptions","newMenuIndex","findIndex","getDate","getMonth","getFullYear","tableCell--notFound","notFound","openModal","backgroundColor","color","table","cells","showInLog","normal","manual","menu","includes","resetOnExe","colorConditions","#3fd35d","yellow","#ffc000","Table","configCellIndex","cellConfig","String","fromCharCode","floor","components_TableCell","tableManual","openLog","tableNotFound","ReactTableWrapper","Headers","ref","forwardRef","individualColors","textColors","sum","reduce","acc","cur","SelfLearningModal","toggleIndividualTable","showIndividualTable","UNTable","React","createRef","SLTable","comConfigs","extraColumnConfigs","extraColumns","keyName","valueName","valueRounding","firstTopDigits","secondTopDigits","individualEntries","generalEntries","individualColumnHeaders","headerRoundings","toConsumableArray","formattedHeaders","header","extra","dateFormat","generalVisible","generalTableColumns","deleteGeneralSL","original","activity","activityHistory","individualTableColumns","showTolerance","incrementIndex","increments","numUpdates","numUpdatesHistory","exitOptions","deleteIndividualSL","tableStyle","marginRight","cols","tableRef","sheetName","col","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","current","getResolvedState","sortedData","Symbol","iterator","done","values","newRow","return","ws","XLSX","utils","aoa_to_sheet","wb","book_new","book_append_sheet","writeFile","resetIndividualSL","getSLModalContent","individual","tableExtraColumnTitle","SelfLearning","openSLModal","SLModalIsOpen","closeSLModal","off","com0ind","com1ind","LogID","numberPercentage","tolerance","startTolerance","important","individualToleranceAbs","individualTolerance","individualToleranceShift","individualCorrectionIncrement","individualCorrectionLimit","individualAverageNumber","excelIndividualColumn","charCodeAt","excelDateColumn","excelExitColumn","firstTopFormula","secondTopFormula","topFormula","text","number","calibration","matchedTolerance","modals_SelfLearningModal","Logo","src","image","alt","Infobar","openListModal","listModalIsOpen","closeListModal","uploadRef","resetTrigger","on","trigger","useFile","waitForOther","searchColumn","csvSeparator",",",";","resetMode","interval","resetTime","resetInterval","automatic","folder","username","configList","deleteConfig","downloadConfig","uploadConfig","version","ip","currentVersion","file","versionName","Main","reloadInterval","setInterval","getLog","clearInterval","loadStatic","logModalFilterType","logEntries","logTableColumns","MBDC","main--noinputs","showInputs","main--notable","showTable","main--nooutputs","showOutputs","modals_LogModal","components_Infobar","components_Logo","coms--noselfLearning","showSelfLearning","components_SelfLearning","components_ComList","components_OutputList","components_InputList","components_Table","some","enabledModules","RECEIVE_STATIC","LOGGER_STATE","App","components_Sidebar","components_Main","require","initialState","dateformat","INPUT_PORT_STATE","OUTPUT_PORT_STATE","SERIAL_COM_STATE","TABLE_CELL_STATE","TABLE_CELL_COLOR","SELFLEARNING_STATE","TABLE_FOUND_STATE","SERIAL_CLEAR","formulaResults","RECEIVE_IP","RECEIVE_TIME","getTime","combineReducers","action","_action$payload","fullState","newInputs","from","_action$payload2","newOutputs","newHistory","_action$payload3","entryTime","newComs","_action$payload4","newCells","_action$payload5","messageTypes","tableColor","notfound","clearSerial","socket","io","Boolean","hostname","middleware","thunk","withExtraArgument","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","store","createStore","reducer","_loop","init","ReactDOM","render","es","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","array","forEach","elem","stringMapFromArray","__webpack_require__","p"],"mappings":"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","file":"static/js/main.69c3f5d5.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction get(object, address) {\r\n  address = address.replace(/^\\.+/, \"\");\r\n  const parts = address.split(/[.[]/);\r\n\r\n  if (parts.length === 1) {\r\n    return object[parts[0]];\r\n  } else if (address[0] === \"[\") {\r\n    const index = address.match(/\\[[0-9]+\\]/)[0].slice(1, -1);\r\n    const newAddress = address.slice(index.length + 2);\r\n\r\n    if (!newAddress) return object[Number(index)];\r\n\r\n    return get(object[Number(index)], newAddress);\r\n  } else {\r\n    const newAddress = address.slice(parts[0].length);\r\n    return get(object[parts[0]], newAddress);\r\n  }\r\n}\r\n\r\nfunction set(object, address, newValue) {\r\n  address = address.replace(/^\\.+/, \"\");\r\n  const parts = address.split(/[.[]/);\r\n\r\n  if (parts.length === 1) {\r\n    object[parts[0]] = newValue;\r\n  } else if (address[0] === \"[\") {\r\n    const index = address.match(/\\[[0-9]+\\]/)[0].slice(1, -1);\r\n    const newAddress = address.slice(index.length + 2);\r\n\r\n    if (!newAddress) {\r\n      object[Number(index)] = newValue;\r\n    } else {\r\n      set(object[Number(index)], newAddress, newValue);\r\n    }\r\n  } else {\r\n    const newAddress = address.slice(parts[0].length);\r\n    set(object[parts[0]], newAddress, newValue);\r\n  }\r\n}\r\n\r\nfunction makeForm(value, config, changeConfig, index, name = \"\") {\r\n  if (typeof value.type === \"undefined\" || typeof value.type === \"object\") {\r\n    if (Array.isArray(value)) {\r\n      if (value.length === 1) {\r\n        return (\r\n          index >= 0 && (\r\n            <div name={name}>\r\n              {Object.keys(value[0]).map(key =>\r\n                makeForm(value[0][key], config, changeConfig, index, name + \"[\" + index + \"].\" + key)\r\n              )}\r\n            </div>\r\n          )\r\n        );\r\n      } else {\r\n        return value.map((element, index) => {\r\n          return makeForm(element, config, changeConfig, index, name + \"[\" + index + \"]\");\r\n        });\r\n      }\r\n    } else {\r\n      return (\r\n        <div key={name} name={name}>\r\n          {Object.keys(value)\r\n            .filter(key => {\r\n              const { conditions } = value[key];\r\n              if (!conditions) return true;\r\n\r\n              return true;\r\n            })\r\n            .map(key => makeForm(value[key], config, changeConfig, index, name + (name ? \".\" : \"\") + key))}\r\n        </div>\r\n      );\r\n    }\r\n  } else {\r\n    if (value.condition && !value.condition(config, index)) return;\r\n\r\n    switch (value.type) {\r\n      case \"title\": {\r\n        return <h3 key={value.name}>{value.name}</h3>;\r\n      }\r\n      case \"subtitle\": {\r\n        return (\r\n          <>\r\n            <b key={value.name}>{value.name}</b>\r\n            <br />\r\n          </>\r\n        );\r\n      }\r\n      case \"emphasis\": {\r\n        const oldName = name.replace(/\\.\\w+$/, \"\");\r\n        return (\r\n          <div className=\"configuration--emphasis\">\r\n            {makeForm(value.contents, config, changeConfig, index, oldName)}\r\n          </div>\r\n        );\r\n      }\r\n      case \"conditional\": {\r\n        const oldName = name.replace(/\\.\\w+$/, \"\");\r\n        return makeForm(value.contents, config, changeConfig, index, oldName);\r\n      }\r\n      case \"external\": {\r\n        return makeForm(value.configuration, config, changeConfig, index, value.location);\r\n      }\r\n      case \"structArray\": {\r\n        const contents = get(config, name) || [];\r\n        const structure = value.structure;\r\n        const defaultStruct = value.defaults;\r\n        return (\r\n          <>\r\n            {value.name}:\r\n            <br />\r\n            {contents.map((element, index) => (\r\n              <div className=\"configuration--struct\">\r\n                #{index + 3}\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"x\"\r\n                  onClick={() => {\r\n                    contents.splice(index, 1);\r\n                    changeConfig(name, contents);\r\n                  }}\r\n                />\r\n                {makeForm(structure, config, changeConfig, index, name + \"[\" + index + \"]\")}\r\n              </div>\r\n            ))}\r\n            <input\r\n              type=\"button\"\r\n              value=\"+\"\r\n              onClick={() => {\r\n                changeConfig(name, contents.concat(defaultStruct));\r\n              }}\r\n            />\r\n          </>\r\n        );\r\n      }\r\n      case \"keyValue\": {\r\n        const options = get(config, name) || [];\r\n\r\n        const keyOptions = value.options;\r\n        return (\r\n          <>\r\n            {value.name}:\r\n            <br />\r\n            {options.map((option, index) => (\r\n              <>\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"x\"\r\n                  onClick={() => {\r\n                    options.splice(index, 1);\r\n                    changeConfig(name, options);\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  onChange={e => {\r\n                    changeConfig(`${name}[${index}].value`, e.target.value);\r\n                  }}\r\n                  value={option.value}\r\n                />\r\n                {keyOptions ? (\r\n                  <select\r\n                    value={option.key}\r\n                    onChange={e => {\r\n                      changeConfig(`${name}[${index}].key`, e.target.value);\r\n                    }}\r\n                  >\r\n                    {Object.entries(keyOptions)\r\n                      .concat([[\"\", \"\"]])\r\n                      .map(entry => (\r\n                        <option value={entry[0]}>{entry[1]}</option>\r\n                      ))}\r\n                  </select>\r\n                ) : (\r\n                  <input\r\n                    type=\"number\"\r\n                    onChange={e => {\r\n                      changeConfig(`${name}[${index}].key`, e.target.value, {\r\n                        numeric: true\r\n                      });\r\n                    }}\r\n                    value={option.key}\r\n                  />\r\n                )}\r\n\r\n                <br />\r\n              </>\r\n            ))}\r\n            <input\r\n              type=\"button\"\r\n              value=\"+\"\r\n              onClick={() => {\r\n                changeConfig(name, options.concat({ key: \"\", value: \"\" }));\r\n              }}\r\n            />\r\n            <br />\r\n          </>\r\n        );\r\n      }\r\n      case \"button\": {\r\n        return (\r\n          <>\r\n            <input type=\"button\" value={value.name} className=\"configuration--button\" onClick={value.onClick} />\r\n            <br />\r\n          </>\r\n        );\r\n      }\r\n      case \"select\": {\r\n        return (\r\n          <>\r\n            {value.name}:\r\n            <select\r\n              value={get(config, name)}\r\n              onChange={event => {\r\n                changeConfig(name, event.target.value, {\r\n                  numeric: value.numeric\r\n                });\r\n              }}\r\n            >\r\n              {Object.entries(value.options).map((entry, index) => (\r\n                <option key={index} value={entry[0]}>\r\n                  {entry[1]}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <br />\r\n          </>\r\n        );\r\n      }\r\n      default: {\r\n        return (\r\n          <>\r\n            {value.name}:\r\n            <input\r\n              type={value.type}\r\n              min={value.min}\r\n              max={value.max}\r\n              step={value.step}\r\n              checked={get(config, name)}\r\n              value={value.rounding ? round(get(config, name), value.rounding) : get(config, name)}\r\n              onChange={event => {\r\n                if (event.target.type === \"checkbox\") {\r\n                  changeConfig(name, event.target.checked);\r\n                } else {\r\n                  changeConfig(name, event.target.value, {\r\n                    numeric: value.type === \"number\"\r\n                  });\r\n                }\r\n              }}\r\n            />\r\n            <br />\r\n          </>\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction round(num, digits) {\r\n  const factor = Math.pow(10, digits);\r\n  return Math.round(num * factor) / factor;\r\n}\r\n\r\nconst getColumnWidth = (rows, accessor) => {\r\n  const maxWidth = 400;\r\n  const minWidth = 50;\r\n  const magicSpacing = 11;\r\n  const cellLength = Math.max(...rows.map(row => (`${get(row, accessor)}` || \"\").length));\r\n\r\n  return Math.max(minWidth, Math.min(maxWidth, cellLength * magicSpacing));\r\n};\r\n\r\nconst daysToDate = days => {\r\n  return new Date((days - (25567 + 2)) * 86400 * 1000);\r\n};\r\n\r\nexport { get, set, makeForm, getColumnWidth, daysToDate };\r\n","import axios from \"axios\";\r\n\r\nexport const downloadExcel = () => {\r\n  window.location.href = \"/downloadExcel\";\r\n};\r\n\r\nexport const uploadExcel = () => {\r\n  const uploadFunction = event => {\r\n    const data = new FormData();\r\n    data.append(\"excelFile\", event.target.files[0]);\r\n    axios\r\n      .post(\"/importExcel\", data)\r\n      .then(() => window.alert(\"Successfully imported Excel file.\"))\r\n      .catch(() => window.alert(\"Error uploading Excel file.\"));\r\n  };\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"file\";\r\n  input.accept = \".xls\";\r\n  input.onchange = uploadFunction;\r\n  input.click();\r\n};\r\n\r\nexport const uploadExcelTemplate = () => {\r\n  const uploadFunction = event => {\r\n    const data = new FormData();\r\n    data.append(\"templateFile\", event.target.files[0]);\r\n    axios\r\n      .post(\"/importTemplate\", data)\r\n      .then(() => window.alert(\"Successfully imported Excel template.\"))\r\n      .catch(() => window.alert(\"Error uploading Excel template.\"));\r\n  };\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"file\";\r\n  input.accept = \".xls\";\r\n  input.onchange = uploadFunction;\r\n  input.click();\r\n};\r\n","import axios from \"axios\";\r\nimport { RECEIVE_LOG_LIST, LOGGER_STATE } from \"./types\";\r\n\r\nexport const downloadLog = name => {\r\n  window.location.href = \"/downloadLog?file=\" + name;\r\n};\r\n\r\nexport const downloadAllLogs = () => (dispatch, getState) => {\r\n  window.location.href = \"/downloadLog?multiFile=\" + getState().misc.logList;\r\n};\r\n\r\nexport const getLogList = () => (dispatch, getState, { emit }) => {\r\n  emit(\"getLogList\", null, list => {\r\n    dispatch({ type: RECEIVE_LOG_LIST, payload: list });\r\n  });\r\n};\r\n\r\nexport const uploadLog = (name, index) => (dispatch, getState, { emit }) => {\r\n  emit(\"uploadLog\", { name, index }, msg => window.alert(msg));\r\n};\r\n\r\nexport const deleteAllLogs = () => (dispatch, getState, { emit }) => {\r\n  const fileList = getState().misc.logList;\r\n  for (let i = 0; i < fileList.length; i++) {\r\n    emit(\"deleteLog\", fileList[i]);\r\n  }\r\n  dispatch(getLogList());\r\n};\r\n\r\nexport const deleteLog = name => (dispatch, getState, { emit }) => {\r\n  emit(\"deleteLog\", name);\r\n  dispatch(getLogList());\r\n};\r\n\r\nexport const getLog = () => dispatch => {\r\n  axios.get(\"/comlog\").then(result => {\r\n    dispatch({ type: LOGGER_STATE, payload: result.data });\r\n  });\r\n};\r\n","import axios from \"axios\";\r\n\r\nimport { TOGGLE_MENU, OPEN_MENU, CLOSE_MENU, CONFIG_UNLOCK } from \"./types\";\r\n\r\nimport { loadConfig } from \"./configActions\";\r\n\r\nexport const toggleMenu = () => dispatch => {\r\n  dispatch({ type: TOGGLE_MENU });\r\n};\r\n\r\nexport const openMenu = () => dispatch => {\r\n  dispatch({ type: OPEN_MENU });\r\n};\r\n\r\nexport const closeMenu = () => dispatch => {\r\n  dispatch({ type: CLOSE_MENU });\r\n};\r\n\r\nexport const unlockConfig = () => dispatch => {\r\n  dispatch({ type: CONFIG_UNLOCK });\r\n};\r\n\r\nexport const reboot = () => dispatch => {\r\n  axios.get(\"/restart\");\r\n  setTimeout(() => {\r\n    dispatch(loadConfig());\r\n  }, 5000);\r\n};\r\n\r\nexport const shutdown = () => {\r\n  axios.get(\"/shutdown\");\r\n};\r\n\r\nexport const getLogo = async () => {\r\n  let logo = false;\r\n  try {\r\n    await axios.get(\"/logo\");\r\n    logo = \"/logo\";\r\n  } finally {\r\n    return logo;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\n\r\nimport { RECEIVE_CONFIG_LIST, CONFIG_CHANGE, RECEIVE_CONFIG, RECEIVE_STATIC, CONFIG_LOCK } from \"./types\";\r\nimport { reboot } from \"./menuActions\";\r\n\r\nexport const downloadConfig = name => {\r\n  window.location.href = \"/downloadConfig?file=\" + name;\r\n};\r\n\r\nexport const changeConfig = (address, value, options) => dispatch => {\r\n  if (options && options.numeric) {\r\n    value = Number(value);\r\n  }\r\n  dispatch({ type: CONFIG_CHANGE, payload: { address, value } });\r\n};\r\n\r\nexport const getConfigList = () => (dispatch, getState, { emit }) => {\r\n  emit(\"getConfigList\", null, list => {\r\n    dispatch({ type: RECEIVE_CONFIG_LIST, payload: list });\r\n  });\r\n};\r\n\r\nexport const deleteConfig = name => (dispatch, getState, { emit }) => {\r\n  if (window.confirm(\"Do you really want to delete \" + name + \"?\")) {\r\n    emit(\"deleteConfig\", name);\r\n    dispatch(getConfigList());\r\n  }\r\n};\r\n\r\nexport const loadConfig = name => (dispatch, getState, { emit }) => {\r\n  if (name) {\r\n    emit(\"loadConfig\", name, config => {\r\n      dispatch({ type: RECEIVE_CONFIG, payload: JSON.parse(config) });\r\n    });\r\n  } else {\r\n    axios\r\n      .get(\"/config\")\r\n      .then(result => {\r\n        console.log(\"Got config\");\r\n        dispatch({ type: RECEIVE_CONFIG, payload: result.data });\r\n      })\r\n      .catch(err => console.log(\"/config\", err));\r\n  }\r\n};\r\n\r\nexport const loadStatic = () => dispatch => {\r\n  axios.get(\"/static\").then(result => {\r\n    dispatch({ type: RECEIVE_STATIC, payload: result.data });\r\n    document.title = result.data.name;\r\n  });\r\n};\r\n\r\nexport const configExists = name => (dispatch, getState, { emit }) => {\r\n  return new Promise(resolve => {\r\n    emit(\"configExists\", name, ({ result }) => resolve(result));\r\n  });\r\n};\r\n\r\nexport const saveConfig = name => (dispatch, getState, { emit }) => {\r\n  const newConfig = JSON.parse(JSON.stringify(getState().config));\r\n  delete newConfig.loaded;\r\n  delete newConfig.locked;\r\n  delete newConfig.hasChanged;\r\n\r\n  if (name) {\r\n    dispatch(configExists(name)).then(result => {\r\n      if (!result || window.confirm(\"File already exists, do you want to overwrite?\")) {\r\n        emit(\"saveConfig\", { name: name, config: newConfig });\r\n      }\r\n    });\r\n    return;\r\n  }\r\n\r\n  if (getState().config.hasChanged) {\r\n    emit(\"checkConfigConsistency\", newConfig, consistent => {\r\n      if (\r\n        (consistent || window.confirm(\"This will reset the log, continue?\")) &&\r\n        window.confirm(\"Are you sure you want to save these changes?\")\r\n      ) {\r\n        emit(\"settings\", newConfig);\r\n        dispatch({ type: CONFIG_LOCK });\r\n        dispatch(reboot());\r\n      } else {\r\n        window.location.reload();\r\n      }\r\n    });\r\n  } else {\r\n    dispatch({ type: CONFIG_LOCK });\r\n  }\r\n};\r\n\r\nexport const uploadConfig = currentVersion => dispatch => {\r\n  const uploadFunction = event => {\r\n    const file = event.target.files[0];\r\n\r\n    const versionName = file.name.match(/V[0-9.]+\\.json$/);\r\n    if (!versionName) {\r\n      alert(\"Config does not have a valid name\");\r\n      return;\r\n    }\r\n    const mayorVersion = versionName[0].slice(1, -3).split(\".\")[0];\r\n\r\n    const currentMayorVersion = currentVersion.split(\".\")[0];\r\n\r\n    if (mayorVersion !== currentMayorVersion) {\r\n      alert(\"Version of new config does not match the current one\");\r\n      return;\r\n    }\r\n\r\n    dispatch(configExists(file.name)).then(result => {\r\n      if (result && !window.confirm(\"Config already exists. Overwrite?\")) return;\r\n\r\n      const data = new FormData();\r\n      data.append(\"configFile\", file);\r\n      axios\r\n        .post(\"/uploadConfig\", data)\r\n        .then(() => {\r\n          window.alert(\"Successfully uploaded new config.\");\r\n          dispatch(getConfigList());\r\n        })\r\n        .catch(() => window.alert(\"Error uploading new config.\"));\r\n    });\r\n  };\r\n\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"file\";\r\n  input.accept = \".json\";\r\n  input.onchange = uploadFunction;\r\n  input.click();\r\n};\r\n\r\nexport const confirmPassword = (password, callback) => (dispatch, getState, { emit }) => {\r\n  emit(\"confirmPassword\", password, callback);\r\n};\r\n","export const forceInput = index => (dispatch, getState, { emit }) => {\r\n  const state = getState();\r\n  const port = {\r\n    ...state.config.input.ports[index],\r\n    ...state.internal.inputs[index]\r\n  };\r\n\r\n  const askForConfirmation = port.manualConfirmation && !port.isForced;\r\n\r\n  if (askForConfirmation && !window.confirm(`Are you sure you want to manually change ${port.name}?`)) return;\r\n\r\n  emit(\"forceInput\", index);\r\n};\r\n\r\nexport const forceOutput = index => (dispatch, getState, { emit }) => {\r\n  const state = getState();\r\n  const port = {\r\n    ...state.config.output.ports[index],\r\n    ...state.internal.outputs[index]\r\n  };\r\n\r\n  const askForConfirmation = port.manualConfirmation && !port.isForced;\r\n\r\n  if (askForConfirmation && !window.confirm(`Are you sure you want to manually change ${port.name}?`)) return;\r\n\r\n  emit(\"forceOutput\", index);\r\n};\r\n\r\nexport const tableManual = (index, value) => (dispatch, getState, { emit }) => {\r\n  emit(\"manual\", { index, value });\r\n};\r\n\r\nexport const setDateTime = date => (dispatch, getState, { emit }) => {\r\n  emit(\"setDateTime\", date);\r\n};\r\n","export const deleteGeneralSL = key => (dispatch, getState, { emit }) => {\r\n  emit(\"deleteGeneralSL\", key);\r\n};\r\n\r\nexport const deleteIndividualSL = (key, message) => (dispatch, getState, { emit }) => {\r\n  emit(\"deleteIndividualSL\", { key, message }, totalNumber =>\r\n    window.alert(`Total SL number has been lowered from ${totalNumber + 1} to ${totalNumber}`)\r\n  );\r\n};\r\n\r\nexport const resetIndividualSL = () => (dispatch, getState, { emit }) => {\r\n  emit(\"resetIndividualSL\");\r\n};\r\n\r\nexport const resetSLData = () => (dispatch, getState, { emit }) => {\r\n  if (window.confirm(\"This will clear the Excel file. Do you want to download it first?\")) {\r\n    return;\r\n  }\r\n  if (window.confirm(\"Are you sure you want to clear all SL data?\")) {\r\n    emit(\"deleteSLData\", {}, success => {\r\n      if (success) {\r\n        window.alert(\"Successfully started new cycle\");\r\n      }\r\n    });\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { slide as Menu } from \"react-burger-menu\";\r\nimport Toggle from \"react-toggle\";\r\nimport Modal from \"react-modal\";\r\nimport moment from \"moment\";\r\n\r\nimport { downloadExcel, uploadExcel } from \"../actions/excelActions\";\r\nimport { downloadAllLogs, downloadLog, deleteLog, deleteAllLogs, getLogList, uploadLog } from \"../actions/logActions\";\r\nimport { saveConfig, changeConfig, confirmPassword } from \"../actions/configActions\";\r\nimport { unlockConfig, toggleMenu, openMenu, closeMenu, reboot, shutdown } from \"../actions/menuActions\";\r\nimport { setDateTime } from \"../actions/internalActions\";\r\nimport { resetSLData } from \"../actions/selfLearningActions\";\r\n\r\nimport { makeForm } from \"../helpers\";\r\nimport { isUndefined } from \"util\";\r\nimport \"../styles/sidebar.scss\";\r\n\r\nclass Sidebar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      uploadModalIsOpen: false,\r\n      logModalIsOpen: false,\r\n      dateTimeModalIsOpen: false,\r\n      newCycleModalIsOpen: false,\r\n      newDate: moment(this.props.time).format(\"YYYY-MM-DDTHH:mm\"),\r\n      qsClickedTimes: 0\r\n    };\r\n  }\r\n\r\n  toggleConfigLock = () => {\r\n    if (!this.props.isMenuOpen) return;\r\n\r\n    if (this.props.configLocked) {\r\n      this.props.unlockConfig();\r\n    } else {\r\n      this.props.saveConfig();\r\n    }\r\n  };\r\n\r\n  openUploadModal = () => {\r\n    this.setState({ uploadModalIsOpen: true });\r\n    this.props.closeMenu();\r\n  };\r\n\r\n  closeUploadModal = () => {\r\n    this.setState({ uploadModalIsOpen: false });\r\n  };\r\n\r\n  openLogModal = () => {\r\n    this.setState({ logModalIsOpen: true });\r\n    this.props.closeMenu();\r\n  };\r\n\r\n  closeLogModal = () => {\r\n    this.setState({ logModalIsOpen: false });\r\n  };\r\n\r\n  openDateTimeModal = () => {\r\n    this.setState({ dateTimeModalIsOpen: true });\r\n    this.props.closeMenu();\r\n  };\r\n\r\n  closeDateTimeModal = () => {\r\n    this.setState({ dateTimeModalIsOpen: false });\r\n  };\r\n\r\n  openNewCycleModal = () => {\r\n    this.props.unlockConfig();\r\n    this.setState({ newCycleModalIsOpen: true });\r\n    this.props.closeMenu();\r\n  };\r\n\r\n  closeNewCycleModal = () => {\r\n    this.props.saveConfig();\r\n    this.setState({ newCycleModalIsOpen: false });\r\n  };\r\n\r\n  uploadLog = (log, index) => {\r\n    if (window.confirm(\"Do you really want to upload \" + log + \"?\")) {\r\n      this.props.uploadLog(log, index);\r\n    }\r\n  };\r\n\r\n  deleteLog = log => {\r\n    if (window.confirm(\"Do you really want to delete \" + log + \"?\")) {\r\n      this.props.deleteLog(log);\r\n    }\r\n  };\r\n\r\n  downloadAllLogs = () => {\r\n    if (window.confirm(\"Do you really want to download all logs?\")) {\r\n      this.props.downloadAllLogs();\r\n    }\r\n  };\r\n\r\n  deleteAllLogs = () => {\r\n    if (window.confirm(\"Do you really want to delete all logs?\")) {\r\n      this.props.deleteAllLogs();\r\n    }\r\n  };\r\n\r\n  handleQSClicked = () => {\r\n    if (this.state.qsClickedTimes < 5) {\r\n      this.setState({ qsClickedTimes: this.state.qsClickedTimes + 1 });\r\n      return;\r\n    }\r\n\r\n    if (this.props.configLocked) {\r\n      this.props.confirmPassword(window.prompt(\"Enter password\", \"\"), correct => {\r\n        if (correct) this.props.unlockConfig();\r\n        else window.alert(\"Password incorrect\");\r\n      });\r\n    } else {\r\n      this.props.saveConfig();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const closeMenu = this.props.closeMenu;\r\n\r\n    let rounding = 0;\r\n    if (!isUndefined(this.props.comIndex)) rounding = this.props.config.serial.coms[this.props.comIndex].digits;\r\n\r\n    const newCycleValues = {\r\n      selfLearning: {\r\n        downloadExcel: {\r\n          name: \"Download Excel file\",\r\n          type: \"button\",\r\n          onClick: () => {\r\n            this.props.downloadExcel();\r\n          }\r\n        },\r\n        resetSL: {\r\n          name: \"Reset Self Learning Data\",\r\n          type: \"button\",\r\n          onClick: () => {\r\n            this.props.resetSLData();\r\n          }\r\n        },\r\n        logID: {\r\n          type: \"external\",\r\n          location: \"logger.logID\",\r\n          configuration: {\r\n            name: \"LogID\",\r\n            type: \"text\"\r\n          }\r\n        },\r\n        startCalibration: {\r\n          name: \"Calibration\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          rounding\r\n        },\r\n        totalNumber: {\r\n          name: \"Total number\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        }\r\n      }\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.logModalIsOpen}\r\n          onRequestClose={this.closeLogModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"Log files Modal\"\r\n        >\r\n          <h2>Upload and download log files</h2>\r\n          <form className=\"logForm\">\r\n            {this.props.logList.map(log => (\r\n              <>\r\n                {log}\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"Delete\"\r\n                  onClick={() => {\r\n                    this.deleteLog(log);\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"Download\"\r\n                  onClick={() => {\r\n                    this.props.downloadLog(log);\r\n                  }}\r\n                />\r\n                {this.props.ftpTargets.map((target, index) => {\r\n                  if (target.address)\r\n                    return (\r\n                      <input\r\n                        type=\"button\"\r\n                        value={`FTP ${index + 1}`}\r\n                        onClick={() => {\r\n                          this.uploadLog(log, index);\r\n                        }}\r\n                      />\r\n                    );\r\n                  return null;\r\n                })}\r\n                <br />\r\n              </>\r\n            ))}\r\n            <input\r\n              type=\"button\"\r\n              value=\"Delete\"\r\n              onClick={() => {\r\n                this.deleteAllLogs();\r\n              }}\r\n            />\r\n            <input\r\n              type=\"button\"\r\n              value=\"Download\"\r\n              onClick={() => {\r\n                this.downloadAllLogs();\r\n              }}\r\n            />\r\n          </form>\r\n        </Modal>\r\n        <Modal\r\n          isOpen={this.state.dateTimeModalIsOpen}\r\n          onRequestClose={this.closeDateTimeModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent dateTime\"\r\n          contentLabel=\"Date Time Modal\"\r\n        >\r\n          <h3>Date and Time</h3>\r\n          <br />\r\n          <form\r\n            onSubmit={event => {\r\n              event.preventDefault();\r\n              this.props.setDateTime(this.state.newDate);\r\n            }}\r\n          >\r\n            Change internal time:\r\n            <input type=\"submit\" value=\"Save\" />\r\n            <input\r\n              type=\"datetime-local\"\r\n              name=\"newDate\"\r\n              value={this.state.newDate}\r\n              onChange={event => this.setState({ newDate: event.target.value })}\r\n            />\r\n          </form>\r\n        </Modal>\r\n        <Modal\r\n          isOpen={this.state.newCycleModalIsOpen}\r\n          onRequestClose={this.closeNewCycleModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"New SL Cycle Modal\"\r\n        >\r\n          <form>\r\n            <h2>Start new cycle</h2>\r\n            {this.state.newCycleModalIsOpen && makeForm(newCycleValues, this.props.config, this.props.changeConfig)}\r\n          </form>\r\n        </Modal>\r\n        <Menu\r\n          right\r\n          customBurgerIcon={false}\r\n          pageWrapId=\"page-wrap\"\r\n          outerContainerId=\"outer-container\"\r\n          isOpen={this.props.isMenuOpen}\r\n          onStateChange={newState => !newState.isOpen && closeMenu()}\r\n          width={450}\r\n        >\r\n          {this.props.exposeSettings && (\r\n            <span className=\"menu-item menu-item--clickable\">\r\n              <span\r\n                onClick={() => {\r\n                  closeMenu();\r\n                  this.toggleConfigLock();\r\n                }}\r\n              >\r\n                Unlock settings\r\n              </span>{\" \"}\r\n              <Toggle\r\n                checked={!this.props.configLocked}\r\n                onChange={() => {\r\n                  closeMenu();\r\n                  this.toggleConfigLock();\r\n                }}\r\n              />\r\n            </span>\r\n          )}\r\n          {this.props.selfLearningEnabled.endsWith(\"ind\") && (\r\n            <span\r\n              className=\"menu-item menu-item--clickable\"\r\n              onClick={() => {\r\n                this.openNewCycleModal();\r\n              }}\r\n            >\r\n              Start new cycle\r\n            </span>\r\n          )}\r\n          {this.props.writeLogs && this.props.exposeUpload && (\r\n            <span\r\n              className=\"menu-item menu-item--clickable\"\r\n              onClick={() => {\r\n                this.props.getLogList();\r\n                this.openLogModal();\r\n                closeMenu();\r\n              }}\r\n            >\r\n              Log files\r\n            </span>\r\n          )}\r\n          {this.props.exposeUpload && (\r\n            <span\r\n              className=\"menu-item menu-item--clickable\"\r\n              onClick={() => {\r\n                this.props.downloadExcel();\r\n                closeMenu();\r\n              }}\r\n            >\r\n              Download Excel\r\n            </span>\r\n          )}\r\n          {this.props.exposeUpload && (\r\n            <span\r\n              className=\"menu-item menu-item--clickable\"\r\n              onClick={() => {\r\n                uploadExcel();\r\n                //this.openUploadModal();\r\n                //closeMenu();\r\n              }}\r\n            >\r\n              Import Excel\r\n            </span>\r\n          )}\r\n          <span\r\n            className=\"menu-item menu-item--clickable\"\r\n            onClick={() => {\r\n              if (window.confirm(\"Are you sure you want to reboot?\")) {\r\n                this.props.reboot();\r\n              }\r\n              closeMenu();\r\n            }}\r\n          >\r\n            Reboot unit\r\n          </span>\r\n          {this.props.exposeShutdown && (\r\n            <span\r\n              className=\"menu-item menu-item--clickable\"\r\n              onClick={() => {\r\n                if (window.confirm(\"Are you sure you want to shutdown?\")) this.props.shutdown();\r\n                closeMenu();\r\n              }}\r\n            >\r\n              Shutdown unit\r\n            </span>\r\n          )}\r\n          <span\r\n            className=\"menu-item menu-item--clickable\"\r\n            onClick={() => {\r\n              this.openDateTimeModal();\r\n            }}\r\n          >\r\n            Set date and time\r\n          </span>\r\n          <span\r\n            className=\"menu-item\"\r\n            onClick={() => {\r\n              this.handleQSClicked();\r\n            }}\r\n          >\r\n            QS code: {this.props.QS}\r\n          </span>\r\n        </Menu>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  if (!state.config.loaded || !state.static.loaded) {\r\n    return {\r\n      configLocked: false,\r\n      isMenuOpen: false,\r\n      QS: \"null\",\r\n      writeLogs: false,\r\n      exposeUpload: false,\r\n      exposeShutdown: false,\r\n      logList: [],\r\n      selfLearningEnabled: \"\"\r\n    };\r\n  }\r\n  return {\r\n    configLocked: state.config.locked,\r\n    config: state.config,\r\n    isMenuOpen: state.misc.isMenuOpen,\r\n    QS: state.static.QS,\r\n    writeLogs: state.config.logger.writeToFile,\r\n    exposeUpload: state.static.exposeUpload,\r\n    exposeShutdown: state.static.exposeShutdown,\r\n    exposeSettings: state.static.exposeSettings,\r\n    logList: state.misc.logList,\r\n    ftpTargets: state.config.FTP.targets,\r\n    selfLearningEnabled: state.config.selfLearning.enabled,\r\n    time: state.misc.time\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  downloadExcel,\r\n  downloadAllLogs,\r\n  deleteLog,\r\n  deleteAllLogs,\r\n  downloadLog,\r\n  getLogList,\r\n  unlockConfig,\r\n  toggleMenu,\r\n  openMenu,\r\n  closeMenu,\r\n  saveConfig,\r\n  reboot,\r\n  shutdown,\r\n  uploadLog,\r\n  setDateTime,\r\n  changeConfig,\r\n  resetSLData,\r\n  confirmPassword\r\n})(Sidebar);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport ReactTable from \"react-table\";\r\n\r\nimport { getColumnWidth } from \"../../helpers\";\r\n\r\nclass LogModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      filterType: \"full\"\r\n    };\r\n  }\r\n\r\n  changeFilterType = event => {\r\n    this.setState({ filterType: event.target.value });\r\n  };\r\n\r\n  filterTypes = [\r\n    {\r\n      id: \"full\",\r\n      name: \"Show only complete\",\r\n      title: \"Complete Log\",\r\n      filter: entry => entry.full\r\n    }\r\n  ];\r\n\r\n  componentWillMount() {\r\n    if (this.props.uniqueLogEnabled) {\r\n      this.filterTypes.push({\r\n        id: \"unique\",\r\n        name: \"Show only unique\",\r\n        title: \"Unique Log\",\r\n        filter: entry => entry.TU\r\n      });\r\n    }\r\n\r\n    if (this.props.activityCounter) {\r\n      this.filterTypes.push({\r\n        id: \"activity\",\r\n        name: \"Show only activity\",\r\n        title: \"Activity Log\",\r\n        filter: entry => entry.TA\r\n      });\r\n    }\r\n    this.filterTypes.push({\r\n      id: \"none\",\r\n      name: \"Show all\",\r\n      title: \"Normal Log\",\r\n      filter: entry => true\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const currentFilter = this.filterTypes.find(filter => filter.id === this.state.filterType);\r\n\r\n    const { entries, accessors, legend, digits, visible } = this.props.loggerState;\r\n    const columns = legend\r\n      .map((name, index) => ({\r\n        Header: () => <b>{name}</b>,\r\n        accessor: accessors[index],\r\n        width: getColumnWidth(entries, accessors[index]),\r\n        style: { textAlign: \"center\" },\r\n        Cell: props => {\r\n          if (typeof props.value === \"number\") {\r\n            return props.value.toFixed(digits[index]);\r\n          }\r\n          return props.value;\r\n        },\r\n        name\r\n      }))\r\n      .filter((_, index) => visible[index])\r\n      .filter(column => this.props.uniqueLogEnabled || column.name !== \"TU\")\r\n      .filter(column => this.props.activityCounter || column.name !== \"TA\");\r\n\r\n    const filteredEntries = entries.filter(currentFilter.filter);\r\n\r\n    return (\r\n      <Modal\r\n        isOpen={this.props.isOpen}\r\n        onRequestClose={this.props.onClose}\r\n        overlayClassName=\"modalOverlay\"\r\n        className=\"modalContent\"\r\n        contentLabel=\"Log Modal\"\r\n      >\r\n        {this.filterTypes.length > 1 && (\r\n          <span>\r\n            <select value={this.state.filterType} onChange={this.changeFilterType}>\r\n              {this.filterTypes.map(filter => (\r\n                <option value={filter.id}>{filter.name}</option>\r\n              ))}\r\n            </select>\r\n          </span>\r\n        )}\r\n\r\n        <div className=\"main--logModal\">\r\n          <div>\r\n            <div className=\"main--logModal--title\">\r\n              <b>{currentFilter.title}</b>\r\n            </div>\r\n            <ReactTable style={{ fontSize: 14 }} data={filteredEntries} columns={columns} />\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const uniqueLogEnabled = state.config.logger.unique !== \"off\";\r\n\r\n  const { activityCounter } = state.config.selfLearning;\r\n\r\n  const loggerState = state.internal.logger;\r\n\r\n  return {\r\n    uniqueLogEnabled,\r\n    activityCounter,\r\n    loggerState\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(LogModal);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport FitText from \"react-fittext\";\r\nimport Modal from \"react-modal\";\r\nimport classNames from \"classnames\";\r\n\r\nimport { changeConfig } from \"../actions/configActions\";\r\nimport { makeForm } from \"../helpers\";\r\nimport \"../styles/comElement.scss\";\r\n\r\nconst configurationValues = {\r\n  serial: {\r\n    coms: [\r\n      {\r\n        mode: {\r\n          name: \"Mode\",\r\n          type: \"select\",\r\n          options: {\r\n            serial: \"Serial\",\r\n            reader: \"Reader\",\r\n            test: \"Test\"\r\n          }\r\n        },\r\n        testMessage: {\r\n          name: \"Test value\",\r\n          type: \"text\",\r\n          condition: (config, index) => config.serial.coms[index].mode === \"test\"\r\n        },\r\n        readerPort: {\r\n          name: \"Port\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) => config.serial.coms[index].mode === \"reader\"\r\n        },\r\n        baudRate: {\r\n          name: \"Baudrate\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) => config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        stopBits: {\r\n          name: \"Number of stop bits\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) => config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        bits: {\r\n          name: \"Number of data bits\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) => config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        parity: {\r\n          name: \"Parity of data\",\r\n          type: \"select\",\r\n          options: {\r\n            none: \"None\",\r\n            even: \"Even\",\r\n            odd: \"Odd\",\r\n            mark: \"Mark\",\r\n            space: \"Space\"\r\n          },\r\n          condition: (config, index) => config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        RTSCTS: {\r\n          name: \"RTS/CTS\",\r\n          type: \"checkbox\",\r\n          condition: (config, index) => config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        XONXOFF: {\r\n          name: \"XON/XOFF\",\r\n          type: \"checkbox\",\r\n          condition: (config, index) => config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        name: {\r\n          name: \"Name of port\",\r\n          type: \"text\"\r\n        },\r\n        entries: {\r\n          name: \"Number of entries\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        },\r\n        numeric: {\r\n          name: \"Treat value as number\",\r\n          type: \"checkbox\"\r\n        },\r\n        average: {\r\n          name: \"Take average\",\r\n          type: \"checkbox\",\r\n          condition: (config, index) => config.serial.coms[index].numeric\r\n        },\r\n        factor: {\r\n          name: \"Factor\",\r\n          type: \"number\",\r\n          condition: (config, index) => config.serial.coms[index].numeric\r\n        },\r\n        digits: {\r\n          name: \"Digits/rounding\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        },\r\n        alwaysPositive: {\r\n          name: \"Always positive\",\r\n          type: \"checkbox\",\r\n          condition: (config, index) => config.serial.coms[index].numeric\r\n        },\r\n        timeoutReset: {\r\n          name: \"Reset after timeout\",\r\n          type: \"checkbox\"\r\n        },\r\n        timeout: {\r\n          name: \"Timeout in seconds\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        },\r\n        prefix: {\r\n          name: \"Prefix\",\r\n          type: \"text\",\r\n          condition: (config, index) => config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        postfix: {\r\n          name: \"Suffix\",\r\n          type: \"text\",\r\n          condition: (config, index) => config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        autoCommandEnabled: {\r\n          name: \"AutoCommand\",\r\n          type: \"checkbox\",\r\n          condition: (config, index) => config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        autoCommandMin: {\r\n          name: \"Min Value\",\r\n          type: \"number\",\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\" && config.serial.coms[index].autoCommandEnabled\r\n        },\r\n        autoCommandMax: {\r\n          name: \"Max Value\",\r\n          type: \"number\",\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\" && config.serial.coms[index].autoCommandEnabled\r\n        },\r\n        autoCommandTime: {\r\n          name: \"Time (sec)\",\r\n          type: \"number\",\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\" && config.serial.coms[index].autoCommandEnabled\r\n        },\r\n        autoCommandText: {\r\n          name: \"Command\",\r\n          type: \"text\",\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\" && config.serial.coms[index].autoCommandEnabled\r\n        }\r\n      }\r\n    ]\r\n  }\r\n};\r\n\r\nclass ComList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      configModalIsOpen: false,\r\n      showHistory: props.coms.map(element => false),\r\n      comIndex: -1\r\n    };\r\n  }\r\n\r\n  openConfigModal = index => {\r\n    this.setState({ configModalIsOpen: true, comIndex: index });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  toggleShowHistory = index => {\r\n    this.setState({\r\n      showHistory: this.state.showHistory.map((element, i) => (i === index ? !element : element))\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const coms = this.props.coms\r\n      .map((com, index) => ({ index, ...com }))\r\n      .filter(com => com.name || !this.props.configLocked);\r\n\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"Serial Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>Configuration for com{this.state.comIndex}</h2>\r\n              {makeForm(configurationValues, this.props.config, this.props.changeConfig, this.state.comIndex)}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n        {coms.map(com => (\r\n          <div\r\n            key={com.index}\r\n            className={classNames(\"comElement\", {\r\n              \"comElement--wide\": coms.length === 1\r\n            })}\r\n          >\r\n            <div\r\n              className=\"comElement--title\"\r\n              onClick={() => {\r\n                if (!this.props.configLocked) {\r\n                  this.openConfigModal(com.index);\r\n                  return;\r\n                }\r\n\r\n                if (!com.average && com.entries > 0) {\r\n                  this.toggleShowHistory(com.index);\r\n                  return;\r\n                }\r\n              }}\r\n            >\r\n              <div className=\"center\">\r\n                <FitText>\r\n                  <div>{com.name}</div>\r\n                </FitText>\r\n                <FitText compressor={2}>\r\n                  <div>{com.average && `Average ${com.entries}`}</div>\r\n                </FitText>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className={classNames(\"comElement--content\", {\r\n                \"comElement--content--testMode\": com.mode === \"test\"\r\n              })}\r\n            >\r\n              {this.state.showHistory[com.index] && com.history ? (\r\n                <div className=\"comElement--content--history\">\r\n                  {com.history.slice(0, this.props.config.serial.coms[com.index].entries).map(element => (\r\n                    <>\r\n                      <div>{element.timeString}</div>\r\n                      <div>{element.entry}</div>\r\n                    </>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"center\">\r\n                  <FitText compressor={0.9}>\r\n                    <div>{com.entry}</div>\r\n                  </FitText>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const coms = state.config.serial.coms.map((com, index) => ({\r\n    ...com,\r\n    ...state.internal.coms[index]\r\n  }));\r\n\r\n  return {\r\n    coms,\r\n    configLocked: state.config.locked,\r\n    config: state.config\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { changeConfig }\r\n)(ComList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport FitText from \"react-fittext\";\r\n\r\nimport { changeConfig } from \"../actions/configActions\";\r\nimport { forceOutput } from \"../actions/internalActions\";\r\nimport { makeForm } from \"../helpers\";\r\nimport \"../styles/outputList.scss\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst configurationValues = {\r\n  output: {\r\n    ports: [\r\n      {\r\n        name: {\r\n          name: \"Name of output\",\r\n          type: \"text\"\r\n        },\r\n        hardwareOutput: {\r\n          name: \"Hardware output\",\r\n          type: \"select\",\r\n          numeric: true,\r\n          options: {\r\n            \"-1\": \"None\",\r\n            \"0\": \"HW Output 1\",\r\n            \"1\": \"HW Output 2\",\r\n            \"2\": \"HW Output 3\",\r\n            \"3\": \"HW Output 4\",\r\n            \"4\": \"HW Output 5\",\r\n            \"5\": \"HW Output 6\",\r\n            \"6\": \"HW Output 7\",\r\n            \"7\": \"HW Output 8\",\r\n            \"8\": \"HW Output 9\",\r\n            \"9\": \"HW Output 10\"\r\n          }\r\n        },\r\n        visible: {\r\n          name: \"Visible\",\r\n          type: \"checkbox\"\r\n        },\r\n        formula: {\r\n          name: \"Formula for output\",\r\n          type: \"text\"\r\n        },\r\n        execute: {\r\n          name: \"Only on execute\",\r\n          type: \"checkbox\"\r\n        },\r\n        seconds: {\r\n          name: \"Timeout in seconds\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) => config.output.ports[index].execute\r\n        },\r\n        manualConfirmation: {\r\n          name: \"Manual requires confirmation\",\r\n          type: \"checkbox\"\r\n        }\r\n      }\r\n    ]\r\n  }\r\n};\r\n\r\nclass OutputList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { configModalIsOpen: false, configPortIndex: -1 };\r\n  }\r\n\r\n  openConfigModal = index => {\r\n    this.setState({ configModalIsOpen: true, configPortIndex: index });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"Output Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>Configuration for output {this.state.configPortIndex + 1}</h2>\r\n              {makeForm(configurationValues, this.props.config, this.props.changeConfig, this.state.configPortIndex)}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n        <div className=\"buttonList\">\r\n          <div className=\"buttonList--title\">\r\n            <div className=\"center\">\r\n              <FitText>\r\n                <div>Outputs</div>\r\n              </FitText>\r\n            </div>\r\n          </div>\r\n          {this.props.outputs\r\n            .map((port, index) => ({ ...port, index }))\r\n            .filter((port, index) => this.props.portsEnabled[index] || !this.props.configLocked)\r\n            .map(port => {\r\n              let indicator = \"buttonList--list--indicator--output\";\r\n              if (port.isForced) indicator += \"Forced\";\r\n\r\n              if (port.state) {\r\n                indicator += \"On\";\r\n              } else if (port.result && !port.isForced) {\r\n                indicator += \"Execute\";\r\n              } else {\r\n                indicator += \"Off\";\r\n              }\r\n\r\n              return (\r\n                <div\r\n                  key={port.index}\r\n                  className=\"buttonList--list--item\"\r\n                  onClick={\r\n                    this.props.configLocked\r\n                      ? () => this.props.forceOutput(port.index)\r\n                      : () => this.openConfigModal(port.index)\r\n                  }\r\n                >\r\n                  <div className={\"buttonList--list--indicator \" + indicator}>\r\n                    <div className=\"center\">\r\n                      <FitText compressor={1.05}>\r\n                        <div>{port.name}</div>\r\n                      </FitText>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const outputs = state.internal.outputs.map((output, index) => ({\r\n    ...output,\r\n    name: state.config.output.ports[index].name\r\n  }));\r\n\r\n  const configLocked = state.config.locked;\r\n  const config = state.config;\r\n\r\n  const portsEnabled = state.config.output.ports.map(port => port.visible);\r\n\r\n  return {\r\n    outputs,\r\n    configLocked,\r\n    config,\r\n    portsEnabled\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { forceOutput, changeConfig }\r\n)(OutputList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport FitText from \"react-fittext\";\r\n\r\nimport { makeForm } from \"../helpers\";\r\nimport { changeConfig } from \"../actions/configActions\";\r\nimport { forceInput } from \"../actions/internalActions\";\r\nimport \"../styles/inputList.scss\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst configurationValues = {\r\n  input: {\r\n    ports: [\r\n      {\r\n        name: {\r\n          name: \"Name of cell\",\r\n          type: \"text\"\r\n        },\r\n        hardwareInput: {\r\n          name: \"Hardware input\",\r\n          type: \"select\",\r\n          numeric: true,\r\n          options: {\r\n            \"-1\": \"None\",\r\n            \"0\": \"HW Input 1\",\r\n            \"1\": \"HW Input 2\",\r\n            \"2\": \"HW Input 3\",\r\n            \"3\": \"HW Input 4\",\r\n            \"4\": \"HW Input 5\"\r\n          }\r\n        },\r\n        visible: {\r\n          name: \"Visible\",\r\n          type: \"checkbox\"\r\n        },\r\n        formula: {\r\n          name: \"Command for input\",\r\n          type: \"select\",\r\n          options: {\r\n            \"\": \"\",\r\n            exe: \"Execute\",\r\n            exebl: \"Execute Block\",\r\n            reset: \"Reset Table\",\r\n            teach: \"SL Teach\",\r\n            restart: \"Restart\",\r\n            shutdown: \"Shutdown\",\r\n            command: \"COM command\"\r\n          }\r\n        },\r\n        commandCom: {\r\n          name: \"COM to send command\",\r\n          type: \"select\",\r\n          options: {\r\n            com0: \"COM 0\",\r\n            com1: \"COM 1\"\r\n          },\r\n          condition: (config, index) => config.input.ports[index].formula === \"command\"\r\n        },\r\n        commandValue: {\r\n          name: \"Value to send on COM\",\r\n          type: \"text\",\r\n          condition: (config, index) => config.input.ports[index].formula === \"command\"\r\n        },\r\n        invert: {\r\n          name: \"Invert follow\",\r\n          type: \"checkbox\"\r\n        },\r\n        follow: {\r\n          name: \"Follow output\",\r\n          type: \"select\",\r\n          numeric: true,\r\n          options: {\r\n            \"-1\": \"None\",\r\n            \"0\": \"Follow ouput 1\",\r\n            \"1\": \"Follow ouput 2\",\r\n            \"2\": \"Follow ouput 3\",\r\n            \"3\": \"Follow ouput 4\",\r\n            \"4\": \"Follow ouput 5\",\r\n            \"5\": \"Follow ouput 6\",\r\n            \"6\": \"Follow ouput 7\",\r\n            \"7\": \"Follow ouput 8\",\r\n            \"8\": \"Follow ouput 9\",\r\n            \"9\": \"Follow ouput 10\"\r\n          }\r\n        },\r\n        timeout: {\r\n          name: \"Debounce timeout (ms)\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        },\r\n        manualTimeout: {\r\n          name: \"Manual timeout (s)\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        },\r\n        manualConfirmation: {\r\n          name: \"Manual requires confirmation\",\r\n          type: \"checkbox\"\r\n        }\r\n      }\r\n    ]\r\n  }\r\n};\r\n\r\nclass InputList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { configModalIsOpen: false, configPortIndex: -1 };\r\n  }\r\n\r\n  openConfigModal = index => {\r\n    this.setState({ configModalIsOpen: true, configPortIndex: index });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"Input Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>Configuration for input {this.state.configPortIndex + 1}</h2>\r\n              {makeForm(configurationValues, this.props.config, this.props.changeConfig, this.state.configPortIndex)}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n        <div className=\"buttonList inputList\">\r\n          <div className=\"buttonList--title\">\r\n            <div className=\"center\">\r\n              <FitText>\r\n                <div>Inputs</div>\r\n              </FitText>\r\n            </div>\r\n          </div>\r\n          {this.props.inputs\r\n            .map((port, index) => ({ ...port, index }))\r\n            .filter((port, index) => this.props.portsEnabled[index] || !this.props.configLocked)\r\n            .map(port => {\r\n              let indicator = \"buttonList--list--indicator--input\";\r\n              if (port.isForced) indicator += \"Forced\";\r\n\r\n              indicator += port.state ? \"On\" : \"Off\";\r\n\r\n              return (\r\n                <div\r\n                  key={port.index}\r\n                  className=\"buttonList--list--item\"\r\n                  onClick={\r\n                    this.props.configLocked\r\n                      ? () => this.props.forceInput(port.index)\r\n                      : () => this.openConfigModal(port.index)\r\n                  }\r\n                >\r\n                  <div className={\"buttonList--list--indicator \" + indicator}>\r\n                    <div className=\"center\">\r\n                      <FitText compressor={1.05}>\r\n                        <div>{port.name}</div>\r\n                      </FitText>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const inputs = state.internal.inputs.map((input, index) => ({\r\n    ...input,\r\n    name: state.config.input.ports[index].name\r\n  }));\r\n\r\n  const configLocked = state.config.locked;\r\n  const config = state.config;\r\n\r\n  const portsEnabled = state.config.input.ports.map(port => port.visible);\r\n\r\n  return {\r\n    inputs,\r\n    configLocked,\r\n    config,\r\n    portsEnabled\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { forceInput, changeConfig }\r\n)(InputList);\r\n","import React from \"react\";\r\nimport FitText from \"react-fittext\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { daysToDate } from \"../helpers\";\r\n\r\nimport \"../styles/tableCell.scss\";\r\n\r\nconst TableCell = props => {\r\n  const { index, cell } = props;\r\n  let content;\r\n  switch (cell.type) {\r\n    case \"manual\": {\r\n      content = (\r\n        <input\r\n          type={props.cell.numeric ? \"number\" : \"text\"}\r\n          className={classnames(\r\n            \"tableCell--content--input\",\r\n            { \"tableCell--content--input--text\": !cell.numeric },\r\n            { \"tableCell--content--input--numeric\": cell.numeric }\r\n          )}\r\n          onChange={event => {\r\n            const value = event.target.value;\r\n            const message = props.cell.numeric ? Number(value) : value;\r\n            props.manualFunction(index, message);\r\n          }}\r\n          value={cell.value}\r\n        />\r\n      );\r\n      if (props.cell.numeric) {\r\n        const decrement = () => {\r\n          props.manualFunction(index, Number(cell.value) - 1);\r\n        };\r\n        const increment = () => {\r\n          props.manualFunction(index, Number(cell.value) + 1);\r\n        };\r\n\r\n        content = (\r\n          <>\r\n            <button onClick={decrement}>-</button>\r\n            {content}\r\n            <button onClick={increment}>+</button>\r\n          </>\r\n        );\r\n      }\r\n      break;\r\n    }\r\n    case \"menu\": {\r\n      const menuOptions = cell.menuOptions || [];\r\n\r\n      content = (\r\n        <select\r\n          className={classnames(\r\n            \"tableCell--content--input\",\r\n            { \"tableCell--content--input--text\": !cell.numeric },\r\n            { \"tableCell--content--input--numeric\": cell.numeric }\r\n          )}\r\n          onChange={e => props.manualFunction(index, e.target.value)}\r\n          value={cell.value}\r\n        >\r\n          {menuOptions.map(option => (\r\n            <option value={option.key}>{option.value}</option>\r\n          ))}\r\n        </select>\r\n      );\r\n\r\n      if (cell.numeric) {\r\n        const decrement = () => {\r\n          let newMenuIndex = menuOptions.findIndex(option => option.key === Number(cell.value)) - 1;\r\n\r\n          if (newMenuIndex < 0) newMenuIndex = menuOptions.length - 1;\r\n\r\n          props.manualFunction(index, menuOptions[newMenuIndex].key);\r\n        };\r\n        const increment = () => {\r\n          let newMenuIndex = menuOptions.findIndex(option => option.key === Number(cell.value)) + 1;\r\n          if (newMenuIndex === 0 || newMenuIndex === menuOptions.length) newMenuIndex = 0;\r\n\r\n          props.manualFunction(index, menuOptions[newMenuIndex].key);\r\n        };\r\n\r\n        content = (\r\n          <>\r\n            <button onClick={decrement}>-</button>\r\n            {content}\r\n            <button onClick={increment}>+</button>\r\n          </>\r\n        );\r\n      }\r\n      break;\r\n    }\r\n    case \"date\": {\r\n      if (!cell.value || cell.value === \"0\") {\r\n        content = \"\";\r\n        break;\r\n      }\r\n      const date = daysToDate(cell.value);\r\n\r\n      content = `${date.getDate()}-${date.getMonth() + 1}-${date.getFullYear()}`;\r\n      break;\r\n    }\r\n    default: {\r\n      content = cell.value;\r\n      if (typeof content == \"number\") content = content.toFixed(cell.digits);\r\n\r\n      break;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={classnames(\"tableCell\", {\r\n        \"tableCell--notFound\": props.notFound\r\n      })}\r\n    >\r\n      <div className=\"tableCell--title\" onClick={props.openModal}>\r\n        <FitText>\r\n          <div className=\"center\">{cell.name}</div>\r\n        </FitText>\r\n      </div>\r\n      <div className=\"tableCell--content\" style={{ backgroundColor: !props.notFound && cell.color }}>\r\n        <FitText compressor={0.6}>\r\n          <div className=\"center\">{content}</div>\r\n        </FitText>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableCell;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport TableCell from \"./TableCell\";\r\nimport { makeForm } from \"../helpers\";\r\nimport { changeConfig } from \"../actions/configActions\";\r\nimport { tableManual } from \"../actions/internalActions\";\r\nimport \"../styles/table.scss\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst configurationValues = {\r\n  table: {\r\n    cells: [\r\n      {\r\n        name: {\r\n          name: \"Name of cell\",\r\n          type: \"text\"\r\n        },\r\n        visible: {\r\n          name: \"Visible\",\r\n          type: \"checkbox\"\r\n        },\r\n        showInLog: {\r\n          name: \"Show in log\",\r\n          type: \"checkbox\"\r\n        },\r\n        type: {\r\n          name: \"Type of content\",\r\n          type: \"select\",\r\n          options: {\r\n            normal: \"Normal\",\r\n            date: \"Date\",\r\n            manual: \"Input\",\r\n            menu: \"Menu\",\r\n            reader: \"Reader\"\r\n          }\r\n        },\r\n        readerPort: {\r\n          name: \"Reader port\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) => config.table.cells[index].type === \"reader\"\r\n        },\r\n        numeric: {\r\n          name: \"Treat value as a number\",\r\n          type: \"checkbox\",\r\n          condition: (config, index) => config.table.cells[index].type !== \"date\"\r\n        },\r\n        formula: {\r\n          name: \"Formula for cell value\",\r\n          type: \"text\",\r\n          condition: (config, index) =>\r\n            [\"normal\", \"date\"].includes(config.table.cells[index].type) && !config.table.cells[index].readerPort\r\n        },\r\n        menuOptions: {\r\n          name: \"Options and values for menu\",\r\n          type: \"keyValue\",\r\n          condition: (config, index) => config.table.cells[index].type === \"menu\"\r\n        },\r\n        digits: {\r\n          name: \"Number of digits\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) => [\"normal\", \"reader\"].includes(config.table.cells[index].type)\r\n        },\r\n        resetOnExe: {\r\n          name: \"Reset value after execute\",\r\n          type: \"checkbox\"\r\n        },\r\n        colorConditions: {\r\n          name: \"Conditions for cell colors\",\r\n          type: \"keyValue\",\r\n          options: {\r\n            \"#3fd35d\": \"Green\",\r\n            yellow: \"Yellow\",\r\n            \"#ffc000\": \"Orange\"\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n};\r\n\r\nclass Table extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { configModalIsOpen: false, configCellIndex: -1 };\r\n  }\r\n\r\n  openConfigModal = index => {\r\n    this.setState({ configModalIsOpen: true, configCellIndex: index });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    const cells = this.props.cells\r\n      .map((cell, index) => ({\r\n        index,\r\n        ...cell,\r\n        ...this.props.cellConfig[index]\r\n      }))\r\n      .filter(cell => !this.props.configLocked || cell.visible);\r\n\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"Table Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>\r\n                Configuration for cell {String.fromCharCode(65 + Math.floor(this.state.configCellIndex / 5))}\r\n                {(this.state.configCellIndex % 5) + 1}\r\n              </h2>\r\n              {makeForm(configurationValues, this.props.config, this.props.changeConfig, this.state.configCellIndex)}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n        <div className={`table--grid table--grid--${cells.length}`}>\r\n          {cells.map(cell => (\r\n            <TableCell\r\n              key={cell.index}\r\n              cell={cell}\r\n              index={cell.index}\r\n              notFound={this.props.notFound}\r\n              manualFunction={this.props.tableManual}\r\n              openModal={this.props.configLocked ? this.props.openLog : () => this.openConfigModal(cell.index)}\r\n            />\r\n          ))}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const cells = state.internal.cells.map((cell, index) => ({\r\n    ...cell,\r\n    name: state.config.table.cells[index].name\r\n  }));\r\n\r\n  return {\r\n    cells,\r\n    configLocked: state.config.locked,\r\n    config: state.config,\r\n    cellConfig: state.config.table.cells,\r\n    notFound: state.internal.tableNotFound\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { tableManual, changeConfig }\r\n)(Table);\r\n","import React from \"react\";\r\nimport ReactTable from \"react-table\";\r\n\r\nimport \"../../styles/reactTable.scss\";\r\n\r\nlet id = 0;\r\n\r\nexport default function ReactTableWrapper(props) {\r\n  const columns = props.columns.map(column => {\r\n    id++;\r\n    return {\r\n      ...column,\r\n      id,\r\n      style: { ...column.style, ...props.style },\r\n      Header: (\r\n        <div className=\"reactTable--header\">\r\n          {column.Headers.map(element => (\r\n            <div className=\"reactTable--header--child\">{element || \"\"}</div>\r\n          ))}\r\n        </div>\r\n      )\r\n    };\r\n  });\r\n\r\n  return <ReactTable ref={props.forwardRef} data={props.data} columns={columns} />;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport ReactTable from \"../util/ReactTableWrapper\";\r\nimport Toggle from \"react-toggle\";\r\nimport dateFormat from \"dateformat\";\r\nimport XLSX from \"xlsx\";\r\n\r\nimport { daysToDate } from \"../../helpers\";\r\nimport { deleteGeneralSL, deleteIndividualSL, resetIndividualSL } from \"../../actions/selfLearningActions\";\r\n\r\nconst individualColors = [\"\", \"green\", \"yellow\", \"orange\", \"red\"];\r\nconst textColors = [\"black\", \"white\", \"black\", \"black\", \"white\"];\r\n\r\nfunction sum(list) {\r\n  return list.filter(entry => entry).reduce((acc, cur) => acc + cur, 0);\r\n}\r\n\r\nclass SelfLearningModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.UNTable = React.createRef();\r\n    this.SLTable = React.createRef();\r\n\r\n    this.state = {\r\n      showIndividualTable: true\r\n    };\r\n  }\r\n\r\n  toggleIndividualTable = () => {\r\n    this.setState({\r\n      showIndividualTable: !this.state.showIndividualTable\r\n    });\r\n  };\r\n\r\n  getSLModalContent() {\r\n    const comConfigs = this.props.config.serial.coms;\r\n    const comIndex = this.props.comIndex;\r\n    const extraColumnConfigs = this.props.config.selfLearning.extraColumns;\r\n\r\n    const keyName = comConfigs[1 - comIndex].name;\r\n    const valueName = comConfigs[comIndex].name;\r\n    const valueRounding = comConfigs[comIndex].digits;\r\n\r\n    const firstTopDigits = this.props.config.selfLearning.firstTopDigits;\r\n    const secondTopDigits = this.props.config.selfLearning.secondTopDigits;\r\n\r\n    const individualEntries = [];\r\n    const generalEntries = [];\r\n    const individualColumnHeaders = this.props.individualColumnHeaders;\r\n    const headerRoundings = [firstTopDigits, secondTopDigits, ...extraColumnConfigs.map(column => column.digits)];\r\n    const formattedHeaders = individualColumnHeaders.map((header, index) =>\r\n      header ? Number(header).toFixed(headerRoundings[index]) : \"\"\r\n    );\r\n\r\n    for (let key in this.props.generalEntries) {\r\n      generalEntries.push({\r\n        key,\r\n        ...this.props.generalEntries[key]\r\n      });\r\n    }\r\n    for (let key in this.props.individualEntries) {\r\n      individualEntries.push({\r\n        key,\r\n        ...this.props.individualEntries[key]\r\n      });\r\n    }\r\n\r\n    const extraColumns = this.props.config.selfLearning.extraColumns.map((column, index) => {\r\n      return {\r\n        Headers: [formattedHeaders[index + 2], column.title],\r\n        accessor: row => row.extra[index],\r\n        Cell: props => {\r\n          switch (column.type) {\r\n            case \"text\":\r\n              return props.value ? String(props.value).slice(-column.digits) : \"\";\r\n            case \"number\":\r\n              return Number(props.value).toFixed(column.digits);\r\n            case \"date\":\r\n              return Number(props.value) > 0\r\n                ? dateFormat(daysToDate(Number(props.value)), \"dd-mm-yyyy\")\r\n                : \"Invalid date\";\r\n            default:\r\n              return props.value;\r\n          }\r\n        },\r\n        width: Math.max(80, 11 * column.title.length),\r\n        generalVisible: column.generalVisible\r\n      };\r\n    });\r\n\r\n    const generalTableColumns = [\r\n      {\r\n        Headers: [\"\", valueName],\r\n        accessor: row => row.entries[0],\r\n        Cell: props => (props.value ? props.value.toFixed(valueRounding) : \"\"),\r\n        width: 70\r\n      },\r\n      {\r\n        Headers: [\"\", \"-1\"],\r\n        accessor: row => row.entries[1] || \"\",\r\n        Cell: props => (props.value ? props.value.toFixed(valueRounding) : \"\"),\r\n        width: 70\r\n      },\r\n      {\r\n        Headers: [\"\", \"-2\"],\r\n        accessor: row => row.entries[2] || \"\",\r\n        Cell: props => (props.value ? props.value.toFixed(valueRounding) : \"\"),\r\n        width: 70\r\n      },\r\n      {\r\n        Headers: [\"\", \"-3\"],\r\n        accessor: row => row.entries[3] || \"\",\r\n        Cell: props => (props.value ? props.value.toFixed(valueRounding) : \"\"),\r\n        width: 70\r\n      },\r\n      {\r\n        Headers: [\"\", \"-4\"],\r\n        accessor: row => row.entries[4] || \"\",\r\n        Cell: props => (props.value ? props.value.toFixed(valueRounding) : \"\"),\r\n        width: 70\r\n      },\r\n      {\r\n        Headers: [\"\", keyName],\r\n        accessor: \"key\",\r\n        width: 200\r\n      },\r\n      ...extraColumns.filter(column => column.generalVisible),\r\n      {\r\n        Headers: [\r\n          <button\r\n            onClick={() => {\r\n              if (window.confirm(`Are you sure you want to delete all general entries?`)) {\r\n                this.props.deleteGeneralSL();\r\n              }\r\n            }}\r\n          >\r\n            <b> Delete </b>\r\n          </button>,\r\n          \"\"\r\n        ],\r\n        Cell: props => {\r\n          return (\r\n            <button\r\n              onClick={() => {\r\n                if (window.confirm(`Are you sure you want to delete general entries for ${props.original.key}?`)) {\r\n                  this.props.deleteGeneralSL(props.original.key);\r\n                }\r\n              }}\r\n            >\r\n              Delete\r\n            </button>\r\n          );\r\n        },\r\n        width: 70\r\n      }\r\n    ];\r\n\r\n    if (this.props.activityCounter) {\r\n      generalTableColumns.push(\r\n        {\r\n          Headers: [sum(generalEntries.map(entry => entry.activity)), \"TA\"],\r\n          accessor: \"activity\",\r\n          width: 50\r\n        },\r\n        {\r\n          Headers: [sum(generalEntries.map(entry => entry.activityHistory[0])), \"-1\"],\r\n          accessor: row => row.activityHistory[0] || \"\",\r\n          width: 50,\r\n          style: {\r\n            backgroundColor: \"#ddd\"\r\n          }\r\n        },\r\n        {\r\n          Headers: [sum(generalEntries.map(entry => entry.activityHistory[1])), \"-2\"],\r\n          accessor: row => row.activityHistory[1] || \"\",\r\n          width: 50,\r\n          style: {\r\n            backgroundColor: \"#ddd\"\r\n          }\r\n        },\r\n        {\r\n          Headers: [sum(generalEntries.map(entry => entry.activityHistory[2])), \"-3\"],\r\n          accessor: row => row.activityHistory[2] || \"\",\r\n          width: 50,\r\n          style: {\r\n            backgroundColor: \"#ddd\"\r\n          }\r\n        }\r\n      );\r\n    }\r\n\r\n    const individualTableColumns = [\r\n      {\r\n        Headers: [formattedHeaders[0], valueName],\r\n        accessor: \"calibration\",\r\n        width: 70,\r\n        Cell: props => props.value.toFixed(valueRounding)\r\n      },\r\n      {\r\n        Headers: [formattedHeaders[1], keyName],\r\n        accessor: \"key\",\r\n        width: 200\r\n      },\r\n      ...extraColumns\r\n    ];\r\n\r\n    if (this.props.showTolerance) {\r\n      individualTableColumns.push({\r\n        Headers: [\"\", \"Tol\"],\r\n        accessor: \"tolerance\",\r\n        Cell: props => {\r\n          const incrementIndex = Math.floor(Math.min(4, props.original.increments));\r\n          return (\r\n            <div\r\n              style={{\r\n                backgroundColor: individualColors[incrementIndex],\r\n                color: textColors[incrementIndex]\r\n              }}\r\n            >\r\n              {props.value.toFixed(1)}{\" \"}\r\n            </div>\r\n          );\r\n        },\r\n        width: 50\r\n      });\r\n    }\r\n\r\n    individualTableColumns.push(\r\n      {\r\n        Headers: [sum(individualEntries.map(entry => entry.numUpdates)), \"Num\"],\r\n        accessor: \"numUpdates\",\r\n        width: 50\r\n      },\r\n      {\r\n        Headers: [sum(individualEntries.map(entry => entry.numUpdatesHistory[0])), \"-1\"],\r\n        accessor: row => row.numUpdatesHistory[0] || \"\",\r\n        width: 50,\r\n        style: {\r\n          backgroundColor: \"#ddd\"\r\n        }\r\n      },\r\n      {\r\n        Headers: [sum(individualEntries.map(entry => entry.numUpdatesHistory[1])), \"-2\"],\r\n        accessor: row => row.numUpdatesHistory[1] || \"\",\r\n        width: 50,\r\n        style: {\r\n          backgroundColor: \"#ddd\"\r\n        }\r\n      },\r\n      {\r\n        Headers: [sum(individualEntries.map(entry => entry.numUpdatesHistory[2])), \"-3\"],\r\n        accessor: row => row.numUpdatesHistory[2] || \"\",\r\n        width: 50,\r\n        style: {\r\n          backgroundColor: \"#ddd\"\r\n        }\r\n      }\r\n    );\r\n\r\n    if (this.props.activityCounter) {\r\n      individualTableColumns.push(\r\n        {\r\n          Headers: [sum(individualEntries.map(entry => entry.activity)), \"TA\"],\r\n          accessor: \"activity\",\r\n          width: 50\r\n        },\r\n        {\r\n          Headers: [sum(individualEntries.map(entry => entry.activityHistory[0])), \"-1\"],\r\n          accessor: row => row.activityHistory[0] || \"\",\r\n          width: 50,\r\n          style: {\r\n            backgroundColor: \"#ddd\"\r\n          }\r\n        },\r\n        {\r\n          Headers: [sum(individualEntries.map(entry => entry.activityHistory[1])), \"-2\"],\r\n          accessor: row => row.activityHistory[1] || \"\",\r\n          width: 50,\r\n          style: {\r\n            backgroundColor: \"#ddd\"\r\n          }\r\n        },\r\n        {\r\n          Headers: [sum(individualEntries.map(entry => entry.activityHistory[2])), \"-3\"],\r\n          accessor: row => row.activityHistory[2] || \"\",\r\n          width: 50,\r\n          style: {\r\n            backgroundColor: \"#ddd\"\r\n          }\r\n        }\r\n      );\r\n    }\r\n\r\n    const exitOptions = this.props.config.selfLearning.exitOptions;\r\n\r\n    individualTableColumns.push({\r\n      Headers: [\r\n        <button\r\n          onClick={() => {\r\n            if (window.confirm(`Are you sure you want to delete all individual entries?`)) {\r\n              this.props.deleteIndividualSL();\r\n            }\r\n          }}\r\n        >\r\n          <b> Delete </b>{\" \"}\r\n        </button>,\r\n        \"\"\r\n      ],\r\n      Cell: props =>\r\n        exitOptions.length ? (\r\n          <select\r\n            value=\"\"\r\n            onChange={event => {\r\n              if (window.confirm(`Are you sure you want to delete the entry for ${props.original.key}?`)) {\r\n                this.props.deleteIndividualSL(props.original.key, event.target.value);\r\n              }\r\n            }}\r\n          >\r\n            <option value=\"\">Delete</option>\r\n            {exitOptions.map(({ key, value }) => (\r\n              <option value={key}>{value}</option>\r\n            ))}\r\n          </select>\r\n        ) : (\r\n          <button\r\n            onClick={() => {\r\n              if (window.confirm(`Are you sure you want to delete the entry for ${props.original.key}?`)) {\r\n                this.props.deleteIndividualSL(props.original.key);\r\n              }\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        ),\r\n      width: 70\r\n    });\r\n\r\n    const tableStyle = { textAlign: \"center\" };\r\n\r\n    const downloadTable = () => {\r\n      const table = [];\r\n      let cols, tableRef, sheetName;\r\n\r\n      if (this.state.showIndividualTable) {\r\n        cols = individualTableColumns.slice(0, -1);\r\n        tableRef = this.UNTable;\r\n        sheetName = \"UN List\";\r\n      } else {\r\n        cols = generalTableColumns;\r\n        cols.splice(8, 1);\r\n        tableRef = this.SLTable;\r\n        sheetName = \"SL List\";\r\n      }\r\n\r\n      table[0] = cols.map(col => col.Headers[0]);\r\n      table[1] = cols.map(col => col.Headers[1]);\r\n\r\n      for (let row of tableRef.current.getResolvedState().sortedData) {\r\n        row = Object.values(row);\r\n        const newRow = [];\r\n        for (let i = 0; i < cols.length; i++) newRow.push(row[i]);\r\n        table.push(newRow);\r\n      }\r\n\r\n      const ws = XLSX.utils.aoa_to_sheet(table);\r\n      const wb = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(wb, ws, sheetName);\r\n\r\n      const date = dateFormat(new Date(), \"yyyy-mm-dd_HH-MM-ss\");\r\n\r\n      XLSX.writeFile(wb, `${this.props.name}_${this.props.config.logger.logID}_${date}.xlsx`);\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <span>\r\n          <Toggle checked={this.state.showIndividualTable} onChange={this.toggleIndividualTable} />\r\n          {this.state.showIndividualTable ? \" Show SL-list\" : \" Show UN-list\"}\r\n        </span>\r\n        <span className=\"selfLearning--modal--buttons\">\r\n          <button style={{ marginRight: \"20px\" }} onClick={downloadTable}>\r\n            <b> Download </b>\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              if (window.confirm(\"Are you sure you want to reset the data of the individual selfLearning?\"))\r\n                this.props.resetIndividualSL();\r\n            }}\r\n          >\r\n            <b> Reset </b>\r\n          </button>\r\n        </span>\r\n        {this.state.showIndividualTable ? (\r\n          <>\r\n            <div className=\"selfLearning--modal--title\"> UN - list </div>\r\n            <ReactTable\r\n              forwardRef={this.UNTable}\r\n              data={individualEntries}\r\n              columns={individualTableColumns}\r\n              style={tableStyle}\r\n            />\r\n          </>\r\n        ) : (\r\n          <>\r\n            <div className=\"selfLearning--modal--title\"> SL - list </div>\r\n            <ReactTable\r\n              forwardRef={this.SLTable}\r\n              style={tableStyle}\r\n              data={generalEntries}\r\n              columns={generalTableColumns}\r\n            />\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        isOpen={this.props.isOpen}\r\n        onRequestClose={this.props.onClose}\r\n        overlayClassName=\"modalOverlay\"\r\n        className=\"modalContent\"\r\n        contentLabel=\"SelfLearning Modal\"\r\n      >\r\n        {this.props.isOpen && this.getSLModalContent()}\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const name = state.static.name;\r\n  const configLocked = state.config.locked;\r\n  const config = state.config;\r\n  const showTolerance = state.static.showTolerance;\r\n  const individual = state.internal.selfLearning.individual;\r\n  const tableExtraColumnTitle = state.config.selfLearning.tableExtraColumnTitle;\r\n  const { activityCounter } = state.config.selfLearning;\r\n\r\n  return {\r\n    ...state.internal.selfLearning,\r\n    configLocked,\r\n    config,\r\n    showTolerance,\r\n    individual,\r\n    tableExtraColumnTitle,\r\n    activityCounter,\r\n    name\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { deleteGeneralSL, deleteIndividualSL, resetIndividualSL })(SelfLearningModal);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport FitText from \"react-fittext\";\r\nimport classNames from \"classnames\";\r\n\r\nimport SelfLearningModal from \"./modals/SelfLearningModal\";\r\nimport { resetSLData } from \"../actions/selfLearningActions\";\r\nimport { downloadExcel, uploadExcelTemplate } from \"../actions/excelActions\";\r\nimport { changeConfig } from \"../actions/configActions\";\r\n\r\nimport { makeForm } from \"../helpers\";\r\nimport \"../styles/selfLearning.scss\";\r\nimport \"react-table/react-table.css\";\r\nimport { isUndefined } from \"util\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nclass SelfLearning extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      SLModalIsOpen: false,\r\n      configModalIsOpen: false,\r\n      showIndividualTable: false\r\n    };\r\n  }\r\n\r\n  openSLModal = () => {\r\n    this.setState({ SLModalIsOpen: true });\r\n  };\r\n\r\n  closeSLModal = () => {\r\n    this.setState({ SLModalIsOpen: false });\r\n  };\r\n\r\n  openConfigModal = () => {\r\n    this.setState({ configModalIsOpen: true });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    let rounding = 0;\r\n    if (!isUndefined(this.props.comIndex)) rounding = this.props.config.serial.coms[this.props.comIndex].digits;\r\n\r\n    const configurationValues = {\r\n      selfLearning: {\r\n        enabled: {\r\n          name: \"Enabled type\",\r\n          type: \"select\",\r\n          options: {\r\n            off: \"Off\",\r\n            com0: \"Com 0\",\r\n            com1: \"Com 1\",\r\n            com0ind: \"Com 0 Individual\",\r\n            com1ind: \"Com 1 Individual\"\r\n          }\r\n        },\r\n        normal: {\r\n          type: \"conditional\",\r\n          condition: config => !config.selfLearning.enabled.endsWith(\"ind\") && config.selfLearning.enabled !== \"off\",\r\n          contents: {\r\n            LogID: {\r\n              name: \"LogID\",\r\n              type: \"external\",\r\n              location: \"logger.logID\",\r\n              configuration: {\r\n                name: \"LogID\",\r\n                type: \"text\"\r\n              }\r\n            },\r\n            startCalibration: {\r\n              name: \"Calibration\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1,\r\n              rounding\r\n            },\r\n            totalNumber: {\r\n              name: \"Total number\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1\r\n            },\r\n            numberPercentage: {\r\n              name: \"SL number %\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1\r\n            },\r\n            tolerance: {\r\n              name: \"Tolerance %\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1\r\n            },\r\n            startTolerance: {\r\n              name: \"Extra tolerance during learning %\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1\r\n            }\r\n          }\r\n        },\r\n        individual: {\r\n          type: \"conditional\",\r\n          condition: config => config.selfLearning.enabled.endsWith(\"ind\"),\r\n          contents: {\r\n            important: {\r\n              type: \"emphasis\",\r\n              contents: {\r\n                downloadExcel: {\r\n                  name: \"Download Excel file\",\r\n                  type: \"button\",\r\n                  onClick: () => {\r\n                    this.props.downloadExcel();\r\n                  }\r\n                },\r\n                resetSL: {\r\n                  name: \"Reset Self Learning Data\",\r\n                  type: \"button\",\r\n                  onClick: () => {\r\n                    this.props.resetSLData();\r\n                  }\r\n                },\r\n                logID: {\r\n                  type: \"external\",\r\n                  location: \"logger.logID\",\r\n                  configuration: {\r\n                    name: \"LogID\",\r\n                    type: \"text\"\r\n                  }\r\n                },\r\n                startCalibration: {\r\n                  name: \"Calibration\",\r\n                  type: \"number\",\r\n                  min: 0,\r\n                  step: 1,\r\n                  rounding\r\n                },\r\n                totalNumber: {\r\n                  name: \"Total number\",\r\n                  type: \"number\",\r\n                  min: 0,\r\n                  step: 1\r\n                }\r\n              }\r\n            },\r\n            numberPercentage: {\r\n              name: \"SL number %\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1\r\n            },\r\n            tolerance: {\r\n              name: \"SL Tolerance %\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1\r\n            },\r\n            individualToleranceAbs: {\r\n              name: \"Individual tolerance\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1,\r\n              condition: config => config.selfLearning.enabled.endsWith(\"ind\")\r\n            },\r\n            individualTolerance: {\r\n              name: \"Individual tolerance %\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1,\r\n              condition: config => config.selfLearning.enabled.endsWith(\"ind\")\r\n            },\r\n            individualToleranceShift: {\r\n              name: \"Individual tolerance shift %\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1,\r\n              condition: config => config.selfLearning.enabled.endsWith(\"ind\")\r\n            },\r\n            individualCorrectionIncrement: {\r\n              name: \"Correction %\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1,\r\n              condition: config => config.selfLearning.enabled.endsWith(\"ind\")\r\n            },\r\n            individualCorrectionLimit: {\r\n              name: \"Correction limit (1-9)\",\r\n              type: \"number\",\r\n              min: 1,\r\n              max: 9,\r\n              step: 1,\r\n              condition: config => config.selfLearning.enabled.endsWith(\"ind\")\r\n            },\r\n            individualAverageNumber: {\r\n              name: \"Average calibration number (1-9)\",\r\n              type: \"number\",\r\n              min: 1,\r\n              max: 9,\r\n              step: 1,\r\n              condition: config => config.selfLearning.enabled.endsWith(\"ind\")\r\n            },\r\n            excelIndividualColumn: {\r\n              type: \"external\",\r\n              location: \"table.individualColumn\",\r\n              configuration: {\r\n                name: \"Excel column - Com Ind\",\r\n                type: \"select\",\r\n                numeric: true,\r\n                options: [...Array(26).keys()].map(i => String.fromCharCode(\"A\".charCodeAt(0) + i))\r\n              }\r\n            },\r\n            excelDateColumn: {\r\n              type: \"external\",\r\n              location: \"table.dateColumn\",\r\n              configuration: {\r\n                name: \"Excel column - Date\",\r\n                type: \"select\",\r\n                numeric: true,\r\n                options: [...Array(26).keys()].map(i => String.fromCharCode(\"A\".charCodeAt(0) + i))\r\n              }\r\n            },\r\n            excelExitColumn: {\r\n              type: \"external\",\r\n              location: \"table.exitColumn\",\r\n              configuration: {\r\n                name: \"Excel column - Exit\",\r\n                type: \"select\",\r\n                numeric: true,\r\n                options: [...Array(26).keys()].map(i => String.fromCharCode(\"A\".charCodeAt(0) + i))\r\n              }\r\n            },\r\n            exitOptions: {\r\n              name: \"Exit options\",\r\n              type: \"keyValue\"\r\n            },\r\n            activityCounter: {\r\n              type: \"checkbox\",\r\n              name: \"Activity counter\"\r\n            },\r\n            uploadExcelTemplate: {\r\n              name: \"Import Excel Template\",\r\n              type: \"button\",\r\n              onClick: uploadExcelTemplate\r\n            },\r\n            title: {\r\n              name: \"List column configuration\",\r\n              type: \"title\"\r\n            },\r\n            firstTopFormula: {\r\n              name: \"#1 Top Formula\",\r\n              type: \"text\"\r\n            },\r\n            firstTopDigits: {\r\n              name: \"#1 Top Digits\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1\r\n            },\r\n            secondTopFormula: {\r\n              name: \"#2 Top Formula\",\r\n              type: \"text\"\r\n            },\r\n            secondTopDigits: {\r\n              name: \"#2 Top Digits\",\r\n              type: \"number\",\r\n              min: 0,\r\n              step: 1\r\n            },\r\n            extraColumns: {\r\n              name: \"Additional columns\",\r\n              type: \"structArray\",\r\n              structure: {\r\n                title: {\r\n                  name: \"Title\",\r\n                  type: \"text\"\r\n                },\r\n                topFormula: {\r\n                  name: \"Top formula\",\r\n                  type: \"text\"\r\n                },\r\n                formula: {\r\n                  name: \"Formula\",\r\n                  type: \"text\"\r\n                },\r\n                type: {\r\n                  name: \"Type of content\",\r\n                  type: \"select\",\r\n                  options: {\r\n                    text: \"Non-num\",\r\n                    number: \"Numeric\",\r\n                    date: \"Date\"\r\n                  }\r\n                },\r\n                digits: {\r\n                  name: \"Digits\",\r\n                  type: \"number\",\r\n                  min: 0,\r\n                  step: 1\r\n                },\r\n                generalVisible: {\r\n                  name: \"Show in SL list\",\r\n                  type: \"checkbox\"\r\n                }\r\n              },\r\n              defaults: {\r\n                title: \"\",\r\n                topFormula: \"\",\r\n                formula: \"\",\r\n                type: \"text\",\r\n                digits: 0\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    const indicators = [\"selfLearning--inProgress\", \"selfLearning--success\", \"selfLearning--warning\"];\r\n\r\n    const cells = [\r\n      \"Self Learning\",\r\n      (this.props.calibration || 0).toFixed(this.props.config.serial.coms[this.props.comIndex || 0].digits) || 0,\r\n      Math.round((this.props.tolerance || 0) * 1000) / 10 + \"%\"\r\n    ];\r\n\r\n    if (!this.props.individual && this.props.success) {\r\n      cells.push(Math.round((this.props.tolerance || 0 - this.props.matchedTolerance || 0) * 1000) / 10 + \"%\");\r\n    }\r\n\r\n    if (this.props.individual && this.props.activityCounter) {\r\n      const activity =\r\n        Object.values(this.props.individualEntries)\r\n          .map(entry => entry.activity)\r\n          .reduce((acc, cur) => acc + cur, 0) +\r\n        Object.values(this.props.generalEntries)\r\n          .map(entry => entry.activity)\r\n          .reduce((acc, cur) => acc + cur, 0);\r\n\r\n      cells.push(activity);\r\n    }\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"SelfLearning Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>Configuration for SelfLearning</h2>\r\n              {makeForm(configurationValues, this.props.config, this.props.changeConfig)}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n        <SelfLearningModal isOpen={this.state.SLModalIsOpen} onClose={this.closeSLModal} />\r\n\r\n        <div\r\n          className={classNames(\"selfLearning\", indicators[this.props.success || 0])}\r\n          onClick={this.props.configLocked ? (this.props.individual ? this.openSLModal : null) : this.openConfigModal}\r\n        >\r\n          {cells.map((cell, index) => (\r\n            <div key={index} className={\"selfLearning--cell\"}>\r\n              <div className=\"center\">\r\n                <FitText compressor={0.65}>\r\n                  <div>{cell}</div>\r\n                </FitText>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  const configLocked = state.config.locked;\r\n  const config = state.config;\r\n  const individual = state.internal.selfLearning.individual;\r\n  const tableExtraColumnTitle = state.config.selfLearning.tableExtraColumnTitle;\r\n  const activityCounter = state.config.selfLearning.activityCounter;\r\n\r\n  return {\r\n    ...state.internal.selfLearning,\r\n    configLocked,\r\n    config,\r\n    individual,\r\n    tableExtraColumnTitle,\r\n    activityCounter\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, { resetSLData, downloadExcel, changeConfig })(SelfLearning);\r\n","import React from \"react\";\r\nimport \"../styles/logo.scss\";\r\n\r\nconst Logo = props => {\r\n  return (\r\n    <div className=\"logo\" onClick={props.onClick}>\r\n      <img className=\"center\" src={props.image} alt={props.alt} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import React, { Component } from \"react\";\r\nimport FitText from \"react-fittext\";\r\nimport moment from \"moment\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport {\r\n  changeConfig,\r\n  deleteConfig,\r\n  loadConfig,\r\n  downloadConfig,\r\n  configExists,\r\n  saveConfig,\r\n  getConfigList,\r\n  uploadConfig\r\n} from \"../actions/configActions\";\r\nimport { setDateTime } from \"../actions/internalActions\";\r\nimport { makeForm } from \"../helpers\";\r\n\r\nimport \"../styles/infobar.scss\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nclass Infobar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.uploadRef = React.createRef();\r\n    this.state = {\r\n      configModalIsOpen: false,\r\n      listModalIsOpen: false,\r\n      newDate: moment(this.props.time).format(\"YYYY-MM-DDTHH:mm\")\r\n    };\r\n  }\r\n\r\n  openConfigModal = () => {\r\n    this.setState({ configModalIsOpen: true });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  openListModal = () => {\r\n    this.setState({ listModalIsOpen: true });\r\n  };\r\n\r\n  closeListModal = () => {\r\n    this.setState({ listModalIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    let configurationValues = {\r\n      serial: {\r\n        title: {\r\n          name: \"Serial\",\r\n          type: \"title\"\r\n        },\r\n        resetTrigger: {\r\n          name: \"Reset on zero\",\r\n          type: \"select\",\r\n          options: { off: \"Off\", on: \"On\", com0: \"Com 0\", com1: \"Com 1\" }\r\n        }\r\n      }\r\n    };\r\n\r\n    if (this.props.exposeUpload) {\r\n      configurationValues = {\r\n        ...configurationValues,\r\n        table: {\r\n          title: {\r\n            name: \"Table\",\r\n            type: \"title\"\r\n          },\r\n          trigger: {\r\n            name: \"Trigger\",\r\n            type: \"select\",\r\n            options: [\"Com 0\", \"Com 1\"]\r\n          },\r\n          useFile: { name: \"Use imported file\", type: \"checkbox\" },\r\n          waitForOther: { name: \"Wait for other com\", type: \"checkbox\" },\r\n          searchColumn: {\r\n            name: \"Column to search in\",\r\n            type: \"select\",\r\n            numeric: true,\r\n            options: [...Array(26).keys()].map(i => String.fromCharCode(\"A\".charCodeAt(0) + i))\r\n          }\r\n        }\r\n      };\r\n    }\r\n\r\n    if (this.props.exposeUpload) {\r\n      configurationValues = {\r\n        ...configurationValues,\r\n        logger: {\r\n          title: {\r\n            name: \"Logger\",\r\n            type: \"title\"\r\n          },\r\n          writeToFile: {\r\n            name: \"Write log to file\",\r\n            type: \"checkbox\"\r\n          },\r\n          csvSeparator: {\r\n            name: \"CSV separator\",\r\n            type: \"select\",\r\n            options: { \",\": \",\", \";\": \";\" }\r\n          },\r\n          logID: {\r\n            name: \"LogID\",\r\n            type: \"text\"\r\n          },\r\n          unique: {\r\n            name: \"Unique log type\",\r\n            type: \"select\",\r\n            options: { off: \"Off\", com0: \"Com 0\", com1: \"Com 1\" }\r\n          },\r\n          resetMode: {\r\n            name: \"Reset mode\",\r\n            type: \"select\",\r\n            options: {\r\n              off: \"Off\",\r\n              time: \"Time of day\",\r\n              interval: \"Time interval\"\r\n            }\r\n          },\r\n          resetTime: {\r\n            name: \"Reset time\",\r\n            type: \"time\",\r\n            condition: config => config.logger.resetMode === \"time\"\r\n          },\r\n          resetInterval: {\r\n            name: \"Interval (min)\",\r\n            type: \"number\",\r\n            min: 0,\r\n            step: 1,\r\n            condition: config => config.logger.resetMode === \"interval\"\r\n          }\r\n        }\r\n      };\r\n    }\r\n\r\n    if (this.props.exposeUpload) {\r\n      configurationValues = {\r\n        ...configurationValues,\r\n        FTP: {\r\n          title: {\r\n            name: \"FTP\",\r\n            type: \"title\"\r\n          },\r\n          automatic: {\r\n            name: \"Automatically upload log on FTP\",\r\n            type: \"checkbox\"\r\n          },\r\n          uploadExcel: {\r\n            name: \"Include Excel with upload\",\r\n            type: \"checkbox\"\r\n          },\r\n          targets: [1, 2].map(index => ({\r\n            title: {\r\n              name: \"Target \" + index,\r\n              type: \"subtitle\"\r\n            },\r\n            address: {\r\n              name: \"Address\",\r\n              type: \"text\"\r\n            },\r\n            folder: {\r\n              name: \"Folder\",\r\n              type: \"text\"\r\n            },\r\n            username: {\r\n              name: \"Username\",\r\n              type: \"text\"\r\n            },\r\n            password: {\r\n              name: \"Password\",\r\n              type: \"text\"\r\n            }\r\n          }))\r\n        }\r\n      };\r\n    }\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.listModalIsOpen}\r\n          onRequestClose={this.closeListModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"List of loadable configurations\"\r\n        >\r\n          <h2>List of saved configurations</h2>\r\n          <form>\r\n            {this.props.configList.map(config => {\r\n              return (\r\n                <>\r\n                  {config}\r\n                  <input type=\"button\" value=\"Delete\" onClick={() => this.props.deleteConfig(config)} />\r\n                  <input type=\"button\" value=\"Load\" onClick={() => this.props.loadConfig(config)} />\r\n                  <input type=\"button\" value=\"Download\" onClick={() => this.props.downloadConfig(config)} />\r\n                  <br />\r\n                </>\r\n              );\r\n            })}\r\n            <input type=\"button\" value=\"Upload\" onClick={() => this.props.uploadConfig(this.props.config.version)} />\r\n            <input\r\n              type=\"button\"\r\n              value=\"Load default\"\r\n              onClick={() => {\r\n                this.props.loadConfig(\"template.json\");\r\n              }}\r\n            />\r\n          </form>\r\n        </Modal>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"General Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>General configuration</h2>\r\n              <div className=\"infobar--modalButtons\">\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"Save config\"\r\n                  onClick={() => {\r\n                    const name = prompt(\"Please enter the name for the new config file:\", \"config\");\r\n                    if (name) this.props.saveConfig(name);\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"Load config\"\r\n                  onClick={() => {\r\n                    this.props.getConfigList();\r\n                    this.openListModal();\r\n                    this.closeConfigModal();\r\n                  }}\r\n                />\r\n              </div>\r\n              <h3>Date and Time</h3>\r\n              <br />\r\n              <form\r\n                onSubmit={event => {\r\n                  event.preventDefault();\r\n                  this.props.setDateTime(this.state.newDate);\r\n                }}\r\n              >\r\n                Change internal time:\r\n                <input type=\"submit\" value=\"Save\" />\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  name=\"newDate\"\r\n                  value={this.state.newDate}\r\n                  onChange={event => this.setState({ newDate: event.target.value })}\r\n                />\r\n              </form>\r\n\r\n              {makeForm(configurationValues, this.props.config, this.props.changeConfig)}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n\r\n        <div className=\"infobar\" onClick={this.props.configLocked ? null : this.openConfigModal}>\r\n          <FitText compressor={1}>\r\n            <div className=\"infobar--item\">\r\n              <div className=\"center\">{this.props.name}</div>\r\n            </div>\r\n          </FitText>\r\n          <FitText compressor={1}>\r\n            <div className=\"infobar--item\">\r\n              <div className=\"center\">{this.props.ip}</div>\r\n            </div>\r\n          </FitText>\r\n          <FitText compressor={0.8}>\r\n            <div className=\"infobar--item\">\r\n              <div className=\"center\">{moment(this.props.time).format(\"HH:mm:ss\")}</div>\r\n            </div>\r\n          </FitText>\r\n          <FitText compressor={0.8}>\r\n            <div className=\"infobar--item\">\r\n              <div className=\"center\">{moment(this.props.time).format(\"DD-MM-YYYY\")}</div>\r\n            </div>\r\n          </FitText>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const name = state.static.name;\r\n  const ip = state.misc.ip;\r\n  const time = state.misc.time;\r\n\r\n  const configLocked = state.config.locked;\r\n  const config = state.config;\r\n  const exposeUpload = state.static.exposeUpload;\r\n\r\n  const configList = state.misc.configList;\r\n\r\n  return {\r\n    name,\r\n    ip,\r\n    time,\r\n    configLocked,\r\n    config,\r\n    configList,\r\n    exposeUpload\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  changeConfig,\r\n  deleteConfig,\r\n  loadConfig,\r\n  downloadConfig,\r\n  configExists,\r\n  saveConfig,\r\n  getConfigList,\r\n  uploadConfig,\r\n  setDateTime\r\n})(Infobar);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport classNames from \"classnames\";\r\n\r\nimport { loadConfig, loadStatic } from \"../actions/configActions\";\r\nimport { getLog } from \"../actions/logActions\";\r\nimport { openMenu, getLogo } from \"../actions/menuActions\";\r\n\r\nimport LogModal from \"./modals/LogModal\";\r\nimport ComList from \"./ComList\";\r\nimport OutputList from \"./OutputList\";\r\nimport InputList from \"./InputList\";\r\nimport Table from \"./Table\";\r\nimport SelfLearning from \"./SelfLearning\";\r\nimport Logo from \"./Logo\";\r\n\r\nimport MBDC from \"../assets/Logo-MBDC.jpg\";\r\nimport Infobar from \"./Infobar\";\r\n\r\nimport \"../styles/main.scss\";\r\nimport \"react-toggle/style.css\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nclass Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.props.loadConfig();\r\n    this.props.loadStatic();\r\n\r\n    getLogo().then(result => {\r\n      if (result) {\r\n        this.setState({ logo: result });\r\n      }\r\n    });\r\n\r\n    this.state = {\r\n      logModalIsOpen: false,\r\n      logModalFilterType: \"none\",\r\n      logEntries: [],\r\n      logTableColumns: [],\r\n      logo: MBDC,\r\n      reloadInterval: null\r\n    };\r\n  }\r\n\r\n  openLogModal = () => {\r\n    this.setState({\r\n      logModalIsOpen: true,\r\n      reloadInterval: setInterval(this.props.getLog, 1000)\r\n    });\r\n    this.props.getLog();\r\n  };\r\n\r\n  closeLogModal = () => {\r\n    clearInterval(this.state.reloadInterval);\r\n    this.setState({ logModalIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.loaded) {\r\n      return <div className=\"loadingScreen\">Loading</div>;\r\n    }\r\n\r\n    return (\r\n      <div id=\"page-wrap\">\r\n        <div\r\n          className={classNames(\r\n            \"main\",\r\n            { \"main--noinputs\": !this.props.showInputs },\r\n            { \"main--notable\": !this.props.showTable },\r\n            { \"main--nooutputs\": !this.props.showOutputs }\r\n          )}\r\n        >\r\n          <LogModal isOpen={this.state.logModalIsOpen} onClose={this.closeLogModal} />\r\n          <div className=\"info\">\r\n            <Infobar />\r\n          </div>\r\n\r\n          <div className=\"logo\">\r\n            <Logo image={this.state.logo} alt=\"LOGO\" onClick={this.props.openMenu} />\r\n          </div>\r\n\r\n          <div\r\n            className={classNames(\"coms\", {\r\n              \"coms--noselfLearning\": !this.props.showSelfLearning\r\n            })}\r\n          >\r\n            {this.props.showSelfLearning && <SelfLearning />}\r\n            <ComList />\r\n          </div>\r\n\r\n          {this.props.showOutputs && <div className=\"outputs\">{this.props.showOutputs && <OutputList />} </div>}\r\n          {this.props.showInputs && <div className=\"inputs\">{this.props.showInputs && <InputList />}</div>}\r\n          {this.props.showTable && (\r\n            <div className=\"table\">\r\n              <Table openLog={this.openLogModal} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const configLocked = state.config.locked;\r\n\r\n  if (!state.config.loaded || !state.static.loaded) {\r\n    return { loaded: false };\r\n  }\r\n\r\n  const showTable = state.static.exposeUpload && (!configLocked || state.config.table.cells.some(cell => cell.visible));\r\n\r\n  const showInputs =\r\n    state.static.exposeUpload && (!configLocked || state.config.input.ports.some(port => port.visible));\r\n\r\n  const showOutputs =\r\n    state.static.exposeUpload && (!configLocked || state.config.output.ports.some(port => port.visible));\r\n\r\n  const showSelfLearning =\r\n    state.static.enabledModules.selfLearning && (!configLocked || state.internal.selfLearning.enabled);\r\n\r\n  const uniqueLogEnabled = state.config.logger.unique !== \"off\";\r\n\r\n  const { activityCounter } = state.config.selfLearning;\r\n\r\n  return {\r\n    loaded: true,\r\n    showTable,\r\n    showInputs,\r\n    showOutputs,\r\n    showSelfLearning,\r\n    configLocked,\r\n    uniqueLogEnabled,\r\n    activityCounter\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { loadConfig, loadStatic, openMenu, getLog }\r\n)(Main);\r\n","import React, { Component } from \"react\";\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport Main from \"./components/Main\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div id=\"outer-container\">\r\n        <Sidebar />\r\n        <Main />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const {\r\n  RECEIVE_CONFIG,\r\n  CONFIG_UNLOCK,\r\n  CONFIG_LOCK,\r\n  CONFIG_CHANGE\r\n} = require(\"../actions/types\");\r\n\r\nconst { set } = require(\"../helpers\");\r\n\r\nconst initialState = { loaded: false, locked: true, hasChanged: false };\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case RECEIVE_CONFIG: {\r\n      return { ...state, loaded: true, hasChanged: true, ...action.payload };\r\n    }\r\n    case CONFIG_UNLOCK: {\r\n      return { ...state, locked: false, hasChanged: false };\r\n    }\r\n    case CONFIG_LOCK: {\r\n      return { ...state, locked: true };\r\n    }\r\n    case CONFIG_CHANGE: {\r\n      if (state.locked) return state;\r\n\r\n      const { address, value } = action.payload;\r\n\r\n      set(state, address, value);\r\n\r\n      return { ...state, hasChanged: true };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const { RECEIVE_STATIC } = require(\"../actions/types\");\r\n\r\nconst initialState = { loaded: false };\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case RECEIVE_STATIC: {\r\n      return { loaded: true, ...action.payload };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const dateformat = require(\"dateformat\");\r\n\r\nconst {\r\n  INPUT_PORT_STATE,\r\n  OUTPUT_PORT_STATE,\r\n  SERIAL_COM_STATE,\r\n  TABLE_CELL_STATE,\r\n  TABLE_CELL_COLOR,\r\n  SELFLEARNING_STATE,\r\n  LOGGER_STATE,\r\n  TABLE_FOUND_STATE,\r\n  SERIAL_CLEAR\r\n} = require(\"../actions/types\");\r\n\r\nconst initialState = {\r\n  coms: [],\r\n  outputs: [],\r\n  inputs: [],\r\n  cells: [],\r\n  selfLearning: {\r\n    enabled: false,\r\n    formula: \"\",\r\n    formulaResults: []\r\n  },\r\n  logger: {\r\n    entries: [],\r\n    legend: [],\r\n    accessors: [],\r\n    digits: [],\r\n    visible: []\r\n  },\r\n  tableNotFound: false\r\n};\r\n\r\nexport default function(fullState = initialState, action) {\r\n  switch (action.type) {\r\n    case INPUT_PORT_STATE: {\r\n      const { index, state, isForced } = action.payload;\r\n\r\n      const newInputs = Array.from(fullState.inputs);\r\n      newInputs[index] = { state, isForced };\r\n\r\n      return { ...fullState, inputs: newInputs };\r\n    }\r\n    case OUTPUT_PORT_STATE: {\r\n      const { index, state, result, isForced } = action.payload;\r\n\r\n      const newOutputs = Array.from(fullState.outputs);\r\n      newOutputs[index] = { state, result, isForced };\r\n\r\n      return { ...fullState, outputs: newOutputs };\r\n    }\r\n    case SERIAL_COM_STATE: {\r\n      const { index, entry, entryTime } = action.payload;\r\n\r\n      const newComs = Array.from(fullState.coms);\r\n      let newHistory;\r\n      if (!fullState.coms[index]) fullState.coms[index] = { history: [] };\r\n\r\n      if (!entry) {\r\n        newHistory = fullState.coms[index].history;\r\n      } else {\r\n        newHistory = [\r\n          {\r\n            entry,\r\n            entryTime,\r\n            timeString: dateformat(new Date(entryTime), \"HH:MM:ss\")\r\n          },\r\n          ...fullState.coms[index].history\r\n        ];\r\n      }\r\n\r\n      newComs[index] = {\r\n        entry,\r\n        entryTime,\r\n        history: newHistory\r\n      };\r\n\r\n      return { ...fullState, coms: newComs };\r\n    }\r\n    case SERIAL_CLEAR: {\r\n      const newComs = fullState.coms.map(com => ({\r\n        entry: \"\",\r\n        entryTime: new Date(),\r\n        history: com.history\r\n      }));\r\n\r\n      return { ...fullState, coms: newComs };\r\n    }\r\n    case TABLE_CELL_STATE: {\r\n      const { index, value, manual } = action.payload;\r\n\r\n      const newCells = Array.from(fullState.cells);\r\n      newCells[index] = { ...newCells[index], value, manual };\r\n\r\n      return { ...fullState, cells: newCells };\r\n    }\r\n    case TABLE_CELL_COLOR: {\r\n      const { index, color } = action.payload;\r\n\r\n      const newCells = Array.from(fullState.cells);\r\n      newCells[index] = { ...newCells[index], color };\r\n\r\n      return { ...fullState, cells: newCells };\r\n    }\r\n    case SELFLEARNING_STATE: {\r\n      return {\r\n        ...fullState,\r\n        selfLearning: { enabled: true, ...action.payload }\r\n      };\r\n    }\r\n    case TABLE_FOUND_STATE: {\r\n      return {\r\n        ...fullState,\r\n        tableNotFound: action.payload\r\n      };\r\n    }\r\n    case LOGGER_STATE: {\r\n      return {\r\n        ...fullState,\r\n        logger: action.payload\r\n      };\r\n    }\r\n    default:\r\n      return fullState;\r\n  }\r\n}\r\n","const {\r\n  RECEIVE_IP,\r\n  RECEIVE_TIME,\r\n  TOGGLE_MENU,\r\n  OPEN_MENU,\r\n  CLOSE_MENU,\r\n  RECEIVE_CONFIG_LIST,\r\n  RECEIVE_LOG_LIST\r\n} = require(\"../actions/types\");\r\n\r\nconst initialState = {\r\n  ip: \"\",\r\n  time: new Date().getTime(),\r\n  isMenuOpen: false,\r\n  configList: [],\r\n  logList: []\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case RECEIVE_IP: {\r\n      return {\r\n        ...state,\r\n        ip: action.payload\r\n      };\r\n    }\r\n    case RECEIVE_TIME: {\r\n      return {\r\n        ...state,\r\n        time: action.payload\r\n      };\r\n    }\r\n    case TOGGLE_MENU: {\r\n      return {\r\n        ...state,\r\n        isMenuOpen: !state.isMenuOpen\r\n      };\r\n    }\r\n    case OPEN_MENU: {\r\n      return { ...state, isMenuOpen: true };\r\n    }\r\n    case CLOSE_MENU: {\r\n      return { ...state, isMenuOpen: false };\r\n    }\r\n    case RECEIVE_CONFIG_LIST: {\r\n      return {\r\n        ...state,\r\n        configList: action.payload\r\n      };\r\n    }\r\n    case RECEIVE_LOG_LIST: {\r\n      return {\r\n        ...state,\r\n        logList: action.payload\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport configReducer from \"./configReducer\";\r\nimport staticReducer from \"./staticReducer\";\r\nimport internalReducer from \"./internalReducer\";\r\nimport miscReducer from \"./miscReducer\";\r\n\r\nexport default combineReducers({\r\n  config: configReducer,\r\n  static: staticReducer,\r\n  internal: internalReducer,\r\n  misc: miscReducer\r\n});\r\n","import {\r\n  INPUT_PORT_STATE,\r\n  OUTPUT_PORT_STATE,\r\n  TABLE_CELL_STATE,\r\n  TABLE_CELL_COLOR,\r\n  SERIAL_COM_STATE,\r\n  SELFLEARNING_STATE,\r\n  RECEIVE_IP,\r\n  RECEIVE_TIME,\r\n  TABLE_FOUND_STATE,\r\n  SERIAL_CLEAR\r\n} from \"./types\";\r\n\r\nexport default {\r\n  input: INPUT_PORT_STATE,\r\n  output: OUTPUT_PORT_STATE,\r\n  table: TABLE_CELL_STATE,\r\n  tableColor: TABLE_CELL_COLOR,\r\n  entry: SERIAL_COM_STATE,\r\n  selfLearning: SELFLEARNING_STATE,\r\n  ip: RECEIVE_IP,\r\n  time: RECEIVE_TIME,\r\n  notfound: TABLE_FOUND_STATE,\r\n  clearSerial: SERIAL_CLEAR\r\n};\r\n","import io from \"socket.io-client\";\r\nimport messageTypes from \"./messageTypes.js\";\r\n\r\nconst socket = io();\r\n\r\nexport const init = store => {\r\n  for (const type in messageTypes) {\r\n    socket.on(type, payload => store.dispatch({ type: messageTypes[type], payload }));\r\n  }\r\n  socket.on(\"error\", payload => window.alert(payload));\r\n};\r\n\r\nexport const emit = (type, payload, callback) => socket.emit(type, payload, callback);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport App from \"./App\";\r\nimport reducer from \"./reducers/rootReducer\";\r\nimport { init, emit } from \"./actions/socketApi\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"./styles/global.scss\";\r\n\r\nconst middleware = [thunk.withExtraArgument({ emit })];\r\n\r\nconst composeEnhancers =\r\n  typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n    : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(...middleware));\r\n\r\nconst store = createStore(reducer, enhancer);\r\n\r\ninit(store);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","function stringMapFromArray(array) {\r\n  const result = {};\r\n  array.forEach(elem => {\r\n    result[elem] = elem;\r\n  });\r\n  return result;\r\n}\r\n\r\nconst actionTypes = [\r\n  \"RECEIVE_TIME\",\r\n  \"RECEIVE_IP\",\r\n  \"TOGGLE_MENU\",\r\n  \"OPEN_MENU\",\r\n  \"CLOSE_MENU\",\r\n  \"RECEIVE_CONFIG\",\r\n  \"RECEIVE_STATIC\",\r\n  \"INPUT_PORT_STATE\",\r\n  \"OUTPUT_PORT_STATE\",\r\n  \"SERIAL_COM_STATE\",\r\n  \"TABLE_CELL_STATE\",\r\n  \"TABLE_CELL_COLOR\",\r\n  \"SELFLEARNING_STATE\",\r\n  \"LOGGER_STATE\",\r\n  \"CONFIG_UNLOCK\",\r\n  \"CONFIG_LOCK\",\r\n  \"CONFIG_CHANGE\",\r\n  \"TABLE_FOUND_STATE\",\r\n  \"SERIAL_CLEAR\",\r\n  \"RECEIVE_CONFIG_LIST\",\r\n  \"RECEIVE_LOG_LIST\"\r\n];\r\n\r\nmodule.exports = stringMapFromArray(actionTypes);\r\n","module.exports = __webpack_public_path__ + \"static/media/Logo-MBDC.645b4549.jpg\";"],"sourceRoot":""}