{"version":3,"sources":["helpers.js","components/Sidebar.js","components/ComList.js","components/OutputList.js","components/InputList.js","components/TableCell.js","components/Table.js","components/SelfLearning.js","components/Logo.js","components/Infobar.js","components/Main.js","App.js","reducers/configReducer.js","reducers/staticReducer.js","reducers/internalReducer.js","reducers/miscReducer.js","reducers/rootReducer.js","api.js","serviceWorker.js","index.js","actions/types.js","assets/Logo-MBDC.jpg"],"names":["get","object","address","parts","replace","split","length","index","match","slice","newAddress","Number","set","newValue","makeForm","value","config","api","name","arguments","undefined","type","Array","isArray","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","Object","keys","map","key","element","filter","conditions","condition","Fragment","options","option","onClick","splice","changeConfig","onChange","e","concat","target","numeric","event","entries","entry","min","max","step","checked","getColumnWidth","rows","accessor","cellLength","Math","apply","C_Users_1_projects_serialserverclient2_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","row","daysToDate","days","Date","Sidebar","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggleConfigLock","isMenuOpen","configLocked","unlockConfig","saveConfig","openUploadModal","setState","uploadModalIsOpen","closeMenu","closeUploadModal","openLogModal","logModalIsOpen","closeLogModal","uploadLog","log","window","confirm","deleteLog","downloadAllLogs","deleteAllLogs","state","_this2","react_default","lib_default","isOpen","onRequestClose","overlayClassName","className","contentLabel","id","action","method","enctype","accept","logList","downloadLog","ftpTargets","BurgerMenu","right","customBurgerIcon","pageWrapId","outerContainerId","onStateChange","newState","width","component_default","writeLogs","getLogList","exposeUpload","reboot","exposeShutdown","shutdown","QS","href","Component","connect","loaded","static","locked","misc","logger","writeToFile","FTP","targets","configurationValues","serial","coms","mode","reader","test","testMessage","readerPort","baudRate","stopBits","bits","parity","none","even","odd","mark","space","RTSCTS","XONXOFF","average","factor","digits","alwaysPositive","timeoutReset","timeout","prefix","postfix","ComList","openConfigModal","configModalIsOpen","comIndex","closeConfigModal","toggleShowHistory","showHistory","i","com","objectSpread","classNames","comElement--wide","ReactFitText_default","compressor","comElement--content--testMode","history","timeString","internal","Modal","setAppElement","output","ports","formula","execute","OutputList","configPortIndex","outputs","port","portsEnabled","indicator","isForced","result","forceOutput","input","","exe","exebl","teach","restart","invert","follow","-1","0","1","2","3","4","5","6","7","8","9","manualTimeout","InputList","inputs","forceInput","TableCell","content","cell","classnames","tableCell--content--input--text","tableCell--content--input--numeric","manualFunction","menuOptions","newMenuIndex","findIndex","date","getDate","getMonth","getFullYear","tableCell--notFound","notFound","openModal","table","cells","normal","manual","menu","includes","resetOnExe","colorConditions","Table","configCellIndex","cellConfig","String","fromCharCode","floor","components_TableCell","tableManual","openLog","tableNotFound","selfLearning","enabled","off","com0","com1","com0ind","com1ind","number","startCalibration","tolerance","startTolerance","endsWith","individualTolerance","individualToleranceIncrement","individualToleranceLimit","individualColors","textColors","SelfLearning","openSLModal","SLModalIsOpen","closeSLModal","toggleIndividualTable","showIndividualTable","getSLModalContent","keyName","valueName","rounding","generalTableColumns","Header","toFixed","style","textAlign","val","deleteGeneralSL","Cell","original","individualTableColumns","calibration","backgroundColor","increments","color","deleteIndividualSL","individualEntries","generalEntries","push","react_table_es","data","columns","round","individual","success","matchedTolerance","Logo","src","image","alt","title","resetTrigger","on","trigger","useFile","waitForOther","searchColumn","logID","unique","resetMode","time","interval","resetTime","resetInterval","automatic","folder","username","password","Infobar","openListModal","listModalIsOpen","closeListModal","uploadRef","React","createRef","configList","deleteConfig","loadConfig","downloadConfig","click","versionName","files","version","parentElement","submit","alert","display","ref","prompt","getConfigList","ip","moment","format","Main","reloadInterval","setInterval","reloadLogEntries","logModalUnique","getUniqueLog","getLog","then","logTableColumns","legend","logEntries","clearInterval","getLogo","logo","MBDC","main--noinputs","showInputs","main--notable","showTable","main--nooutputs","showOutputs","uniqueLogEnabled","fontSize","components_Infobar","components_Logo","openMenu","coms--noselfLearning","showSelfLearning","components_SelfLearning","components_ComList","components_OutputList","components_InputList","components_Table","reduce","acc","cur","enabledModules","App","components_Sidebar","components_Main","require","RECEIVE_CONFIG","CONFIG_UNLOCK","CONFIG_LOCK","CONFIG_CHANGE","initialState","hasChanged","RECEIVE_STATIC","dateformat","INPUT_PORT_STATE","OUTPUT_PORT_STATE","SERIAL_COM_STATE","TABLE_CELL_STATE","SELFLEARNING_STATE","TABLE_FOUND_STATE","RECEIVE_IP","RECEIVE_TIME","TOGGLE_MENU","OPEN_MENU","CLOSE_MENU","RECEIVE_CONFIG_LIST","RECEIVE_LOG_LIST","getTime","combineReducers","payload","_action$payload","fullState","newInputs","from","_action$payload2","newOutputs","newHistory","_action$payload3","entryTime","newComs","toConsumableArray","_action$payload4","newCells","store","socket","socketIOClient","messageTypes","notfound","_loop","message","dispatch","emit","JSON","parse","axios","console","catch","err","setTimeout","_getLogo","asyncToGenerator","regenerator_default","_callee","wrap","_context","prev","next","abrupt","stop","list","getState","forEach","document","toggleMenu","newConfig","stringify","_ref","location","reload","fileList","Boolean","hostname","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","array","elem","stringMapFromArray","__webpack_require__","p"],"mappings":"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","file":"static/js/main.cfff04ba.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction get(object, address) {\r\n  address = address.replace(/^\\.+/, \"\");\r\n  const parts = address.split(/[.[]/);\r\n\r\n  if (parts.length === 1) {\r\n    return object[parts[0]];\r\n  } else if (address[0] === \"[\") {\r\n    const index = address.match(/\\[[0-9]+\\]/)[0].slice(1, -1);\r\n    const newAddress = address.slice(index.length + 2);\r\n    return get(object[Number(index)], newAddress);\r\n  } else {\r\n    const newAddress = address.slice(parts[0].length);\r\n    return get(object[parts[0]], newAddress);\r\n  }\r\n}\r\n\r\nfunction set(object, address, newValue) {\r\n  address = address.replace(/^\\.+/, \"\");\r\n  const parts = address.split(/[.[]/);\r\n\r\n  if (parts.length === 1) {\r\n    object[parts[0]] = newValue;\r\n  } else if (address[0] === \"[\") {\r\n    const index = address.match(/\\[[0-9]+\\]/)[0].slice(1, -1);\r\n    const newAddress = address.slice(index.length + 2);\r\n    set(object[Number(index)], newAddress, newValue);\r\n  } else {\r\n    const newAddress = address.slice(parts[0].length);\r\n    set(object[parts[0]], newAddress, newValue);\r\n  }\r\n}\r\n\r\nfunction makeForm(value, config, api, index, name = \"\") {\r\n  if (typeof value.type === \"undefined\" || typeof value.type === \"object\") {\r\n    if (Array.isArray(value)) {\r\n      if (value.length === 1) {\r\n        return (\r\n          index >= 0 && (\r\n            <div name={name}>\r\n              {Object.keys(value[0]).map(key =>\r\n                makeForm(\r\n                  value[0][key],\r\n                  config,\r\n                  api,\r\n                  index,\r\n                  name + \"[\" + index + \"].\" + key\r\n                )\r\n              )}\r\n            </div>\r\n          )\r\n        );\r\n      } else {\r\n        return value.map((element, index) => {\r\n          return makeForm(\r\n            element,\r\n            config,\r\n            api,\r\n            index,\r\n            name + \"[\" + index + \"]\"\r\n          );\r\n        });\r\n      }\r\n    } else {\r\n      return (\r\n        <div key={name} name={name}>\r\n          {Object.keys(value)\r\n            .filter(key => {\r\n              const { conditions } = value[key];\r\n              if (!conditions) return true;\r\n\r\n              return true;\r\n            })\r\n            .map(key =>\r\n              makeForm(\r\n                value[key],\r\n                config,\r\n                api,\r\n                index,\r\n                name + (name ? \".\" : \"\") + key\r\n              )\r\n            )}\r\n        </div>\r\n      );\r\n    }\r\n  } else {\r\n    if (value.condition && !value.condition(config, index)) return;\r\n\r\n    switch (value.type) {\r\n      case \"title\": {\r\n        return <h3 key={value.name}>{value.name}</h3>;\r\n      }\r\n      case \"subtitle\": {\r\n        return (\r\n          <>\r\n            <b key={value.name}>{value.name}</b>\r\n            <br />\r\n          </>\r\n        );\r\n      }\r\n      case \"keyValue\": {\r\n        const options = get(config, name) || [];\r\n        return (\r\n          <>\r\n            {value.name}:\r\n            <br />\r\n            {options.map((option, index) => (\r\n              <>\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"x\"\r\n                  onClick={() => {\r\n                    options.splice(index, 1);\r\n                    api.changeConfig(name, options);\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  onChange={e => {\r\n                    api.changeConfig(`${name}[${index}].value`, e.target.value);\r\n                  }}\r\n                  value={option.value}\r\n                />\r\n                <input\r\n                  type=\"number\"\r\n                  onChange={e => {\r\n                    api.changeConfig(`${name}[${index}].key`, e.target.value, {\r\n                      numeric: true\r\n                    });\r\n                  }}\r\n                  value={option.key}\r\n                />\r\n                <br />\r\n              </>\r\n            ))}\r\n            <input\r\n              type=\"button\"\r\n              value=\"+\"\r\n              onClick={() => {\r\n                api.changeConfig(name, options.concat({ key: \"\", value: \"\" }));\r\n              }}\r\n            />\r\n            <br />\r\n          </>\r\n        );\r\n      }\r\n      case \"select\": {\r\n        return (\r\n          <>\r\n            {value.name}:\r\n            <select\r\n              value={get(config, name)}\r\n              onChange={event => {\r\n                api.changeConfig(name, event.target.value, {\r\n                  numeric: value.numeric\r\n                });\r\n              }}\r\n            >\r\n              {Object.entries(value.options).map((entry, index) => (\r\n                <option key={index} value={entry[0]}>\r\n                  {entry[1]}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <br />\r\n          </>\r\n        );\r\n      }\r\n      default: {\r\n        return (\r\n          <>\r\n            {value.name}:\r\n            <input\r\n              type={value.type}\r\n              min={value.min}\r\n              max={value.max}\r\n              step={value.step}\r\n              checked={get(config, name)}\r\n              value={get(config, name)}\r\n              onChange={event => {\r\n                if (event.target.type === \"checkbox\") {\r\n                  api.changeConfig(name, event.target.checked);\r\n                } else {\r\n                  api.changeConfig(name, event.target.value, {\r\n                    numeric: value.type === \"number\"\r\n                  });\r\n                }\r\n              }}\r\n            />\r\n            <br />\r\n          </>\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst getColumnWidth = (rows, accessor) => {\r\n  const maxWidth = 400;\r\n  const minWidth = 50;\r\n  const magicSpacing = 11;\r\n  const cellLength = Math.max(\r\n    ...rows.map(row => (`${row[accessor]}` || \"\").length)\r\n  );\r\n  return Math.max(minWidth, Math.min(maxWidth, cellLength * magicSpacing));\r\n};\r\n\r\nconst daysToDate = days => {\r\n  return new Date((days - (25567 + 3)) * 86400 * 1000);\r\n};\r\n\r\nexport { get, set, makeForm, getColumnWidth, daysToDate };\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { slide as Menu } from \"react-burger-menu\";\r\nimport Toggle from \"react-toggle\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport \"../styles/sidebar.scss\";\r\n\r\nclass Sidebar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { uploadModalIsOpen: false, logModalIsOpen: false };\r\n  }\r\n\r\n  toggleConfigLock = () => {\r\n    if (!this.props.isMenuOpen) return;\r\n\r\n    if (this.props.configLocked) {\r\n      this.props.api.unlockConfig();\r\n    } else {\r\n      this.props.api.saveConfig();\r\n    }\r\n  };\r\n\r\n  openUploadModal = () => {\r\n    this.setState({ uploadModalIsOpen: true });\r\n    this.props.api.closeMenu();\r\n  };\r\n\r\n  closeUploadModal = () => {\r\n    this.setState({ uploadModalIsOpen: false });\r\n  };\r\n\r\n  openLogModal = () => {\r\n    this.setState({ logModalIsOpen: true });\r\n    this.props.api.closeMenu();\r\n  };\r\n\r\n  closeLogModal = () => {\r\n    this.setState({ logModalIsOpen: false });\r\n  };\r\n\r\n  uploadLog = (log, index) => {\r\n    if (window.confirm(\"Do you really want to upload \" + log + \"?\")) {\r\n      this.props.api.uploadLog(log, index);\r\n    }\r\n  };\r\n\r\n  deleteLog = log => {\r\n    if (window.confirm(\"Do you really want to delete \" + log + \"?\")) {\r\n      this.props.api.deleteLog(log);\r\n    }\r\n  };\r\n\r\n  downloadAllLogs = () => {\r\n    if (window.confirm(\"Do you really want to download all logs?\")) {\r\n      this.props.api.downloadAllLogs();\r\n    }\r\n  };\r\n\r\n  deleteAllLogs = () => {\r\n    if (window.confirm(\"Do you really want to delete all logs?\")) {\r\n      this.props.api.deleteAllLogs();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const closeMenu = this.props.api.closeMenu;\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.uploadModalIsOpen}\r\n          onRequestClose={this.closeUploadModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"File Upload Modal\"\r\n        >\r\n          <h2>Upload an excel file</h2>\r\n          <form\r\n            id=\"uploadForm\"\r\n            action=\"importFile\"\r\n            method=\"post\"\r\n            enctype=\"multipart/form-data\"\r\n          >\r\n            <input type=\"submit\" value=\"Import .xls\" />\r\n            <input type=\"file\" name=\"importFile\" accept=\".xls\" />\r\n          </form>\r\n        </Modal>\r\n        <Modal\r\n          isOpen={this.state.logModalIsOpen}\r\n          onRequestClose={this.closeLogModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"Log files Modal\"\r\n        >\r\n          <h2>Upload and download log files</h2>\r\n          <form className=\"logForm\">\r\n            {this.props.logList.map(log => (\r\n              <>\r\n                {log}\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"Delete\"\r\n                  onClick={() => {\r\n                    this.deleteLog(log);\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"Download\"\r\n                  onClick={() => {\r\n                    this.props.api.downloadLog(log);\r\n                  }}\r\n                />\r\n                {this.props.ftpTargets.map((target, index) => {\r\n                  if (target.address)\r\n                    return (\r\n                      <input\r\n                        type=\"button\"\r\n                        value={`FTP ${index + 1}`}\r\n                        onClick={() => {\r\n                          this.uploadLog(log, index);\r\n                        }}\r\n                      />\r\n                    );\r\n                  return null;\r\n                })}\r\n                <br />\r\n              </>\r\n            ))}\r\n            <input\r\n              type=\"button\"\r\n              value=\"Delete\"\r\n              onClick={() => {\r\n                this.deleteAllLogs();\r\n              }}\r\n            />\r\n            <input\r\n              type=\"button\"\r\n              value=\"Download\"\r\n              onClick={() => {\r\n                this.downloadAllLogs();\r\n              }}\r\n            />\r\n          </form>\r\n        </Modal>\r\n        <Menu\r\n          right\r\n          customBurgerIcon={false}\r\n          pageWrapId=\"page-wrap\"\r\n          outerContainerId=\"outer-container\"\r\n          isOpen={this.props.isMenuOpen}\r\n          onStateChange={newState =>\r\n            !newState.isOpen && this.props.api.closeMenu()\r\n          }\r\n          width={400}\r\n        >\r\n          <span className=\"menu-item menu-item--clickable\">\r\n            <span\r\n              onClick={() => {\r\n                closeMenu();\r\n                this.toggleConfigLock();\r\n              }}\r\n            >\r\n              Unlock settings\r\n            </span>\r\n\r\n            <Toggle\r\n              checked={!this.props.configLocked}\r\n              onChange={() => {\r\n                closeMenu();\r\n                this.toggleConfigLock();\r\n              }}\r\n            />\r\n          </span>\r\n          {this.props.writeLogs && (\r\n            <span\r\n              className=\"menu-item menu-item--clickable\"\r\n              onClick={() => {\r\n                this.props.api.getLogList();\r\n                this.openLogModal();\r\n                closeMenu();\r\n              }}\r\n            >\r\n              Log files\r\n            </span>\r\n          )}\r\n          {this.props.exposeUpload && (\r\n            <span\r\n              className=\"menu-item menu-item--clickable\"\r\n              onClick={() => {\r\n                this.openUploadModal();\r\n                closeMenu();\r\n              }}\r\n            >\r\n              Import Excel\r\n            </span>\r\n          )}\r\n          <span\r\n            className=\"menu-item menu-item--clickable\"\r\n            onClick={() => {\r\n              if (window.confirm(\"Are you sure you want to reboot?\")) {\r\n                this.props.api.reboot();\r\n              }\r\n              closeMenu();\r\n            }}\r\n          >\r\n            Reboot unit\r\n          </span>\r\n          {this.props.exposeShutdown && (\r\n            <span\r\n              className=\"menu-item menu-item--clickable\"\r\n              onClick={() => {\r\n                if (window.confirm(\"Are you sure you want to shutdown?\"))\r\n                  this.props.api.shutdown();\r\n                closeMenu();\r\n              }}\r\n            >\r\n              Shutdown unit\r\n            </span>\r\n          )}\r\n          <span className=\"menu-item\">QS code: {this.props.QS}</span>\r\n          <a className=\"menu-item\" href=\"/settings\">\r\n            (OLD) serial settings\r\n          </a>\r\n          <a className=\"menu-item\" href=\"/filesettings\">\r\n            (OLD) other settings\r\n          </a>\r\n          <a className=\"menu-item\" href=\"/fileupload\">\r\n            (OLD) upload file\r\n          </a>\r\n        </Menu>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  if (!state.config.loaded || !state.static.loaded) {\r\n    return {\r\n      configLocked: false,\r\n      isMenuOpen: false,\r\n      QS: \"null\",\r\n      writeLogs: false,\r\n      exposeUpload: false,\r\n      exposeShutdown: false,\r\n      logList: []\r\n    };\r\n  }\r\n  return {\r\n    configLocked: state.config.locked,\r\n    isMenuOpen: state.misc.isMenuOpen,\r\n    QS: state.static.QS,\r\n    writeLogs: state.config.logger.writeToFile,\r\n    exposeUpload: state.static.exposeUpload,\r\n    exposeShutdown: state.static.exposeShutdown,\r\n    logList: state.misc.logList,\r\n    ftpTargets: state.config.FTP.targets\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Sidebar);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport FitText from \"react-fittext\";\r\nimport Modal from \"react-modal\";\r\nimport classNames from \"classnames\";\r\n\r\nimport { makeForm } from \"../helpers\";\r\nimport \"../styles/comElement.scss\";\r\n\r\nconst configurationValues = {\r\n  serial: {\r\n    coms: [\r\n      {\r\n        mode: {\r\n          name: \"Mode\",\r\n          type: \"select\",\r\n          options: {\r\n            serial: \"Serial\",\r\n            reader: \"Reader\",\r\n            test: \"Test\"\r\n          }\r\n        },\r\n        testMessage: {\r\n          name: \"Test value\",\r\n          type: \"text\",\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"test\"\r\n        },\r\n        readerPort: {\r\n          name: \"Port\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"reader\"\r\n        },\r\n        baudRate: {\r\n          name: \"Baudrate\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        stopBits: {\r\n          name: \"Number of stop bits\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        bits: {\r\n          name: \"Number of data bits\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        parity: {\r\n          name: \"Parity of data\",\r\n          type: \"select\",\r\n          options: {\r\n            none: \"None\",\r\n            even: \"Even\",\r\n            odd: \"Odd\",\r\n            mark: \"Mark\",\r\n            space: \"Space\"\r\n          },\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        RTSCTS: {\r\n          name: \"RTS/CTS\",\r\n          type: \"checkbox\",\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        XONXOFF: {\r\n          name: \"XON/XOFF\",\r\n          type: \"checkbox\",\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        name: {\r\n          name: \"Name of port\",\r\n          type: \"text\"\r\n        },\r\n        entries: {\r\n          name: \"Number of entries\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        },\r\n        numeric: {\r\n          name: \"Treat value as number\",\r\n          type: \"checkbox\"\r\n        },\r\n        average: {\r\n          name: \"Take average\",\r\n          type: \"checkbox\"\r\n        },\r\n        factor: {\r\n          name: \"Factor\",\r\n          type: \"number\"\r\n        },\r\n        digits: {\r\n          name: \"Digits/rounding\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        },\r\n        alwaysPositive: {\r\n          name: \"Always positive\",\r\n          type: \"checkbox\"\r\n        },\r\n        timeoutReset: {\r\n          name: \"Reset after timeout\",\r\n          type: \"checkbox\"\r\n        },\r\n        timeout: {\r\n          name: \"Timeout in seconds\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        },\r\n        prefix: {\r\n          name: \"Prefix\",\r\n          type: \"text\",\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\"\r\n        },\r\n        postfix: {\r\n          name: \"Suffix\",\r\n          type: \"text\",\r\n          condition: (config, index) =>\r\n            config.serial.coms[index].mode === \"serial\"\r\n        }\r\n      }\r\n    ]\r\n  }\r\n};\r\n\r\nclass ComList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      configModalIsOpen: false,\r\n      showHistory: props.coms.map(element => false),\r\n      comIndex: -1\r\n    };\r\n  }\r\n\r\n  openConfigModal = index => {\r\n    this.setState({ configModalIsOpen: true, comIndex: index });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  toggleShowHistory = index => {\r\n    this.setState({\r\n      showHistory: this.state.showHistory.map((element, i) =>\r\n        i === index ? !element : element\r\n      )\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const coms = this.props.coms\r\n      .map((com, index) => ({ index, ...com }))\r\n      .filter(com => com.name || !this.props.configLocked);\r\n\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"Serial Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>Configuration for com{this.state.comIndex}</h2>\r\n              {makeForm(\r\n                configurationValues,\r\n                this.props.config,\r\n                this.props.api,\r\n                this.state.comIndex\r\n              )}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n        {coms.map(com => (\r\n          <div\r\n            key={com.index}\r\n            className={classNames(\"comElement\", {\r\n              \"comElement--wide\": coms.length === 1\r\n            })}\r\n            onClick={\r\n              this.props.configLocked\r\n                ? () => !com.average && this.toggleShowHistory(com.index)\r\n                : () => this.openConfigModal(com.index)\r\n            }\r\n          >\r\n            <div className=\"comElement--title\">\r\n              <div className=\"center\">\r\n                <FitText>\r\n                  <div>{com.name}</div>\r\n                </FitText>\r\n                <FitText compressor={2}>\r\n                  <div>{com.average && `Average ${com.entries}`}</div>\r\n                </FitText>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className={classNames(\"comElement--content\", {\r\n                \"comElement--content--testMode\": com.mode === \"test\"\r\n              })}\r\n            >\r\n              {this.state.showHistory[com.index] && com.history ? (\r\n                <div className=\"comElement--content--history\">\r\n                  {com.history\r\n                    .slice(0, this.props.config.serial.coms[com.index].entries)\r\n                    .map(element => (\r\n                      <>\r\n                        <div>{element.timeString}</div>\r\n                        <div>{element.entry}</div>\r\n                      </>\r\n                    ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"center\">\r\n                  <FitText compressor={0.9}>\r\n                    <div>{com.entry}</div>\r\n                  </FitText>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const coms = state.config.serial.coms.map((com, index) => ({\r\n    ...com,\r\n    ...state.internal.coms[index]\r\n  }));\r\n\r\n  return {\r\n    coms,\r\n    configLocked: state.config.locked,\r\n    config: state.config\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(ComList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport FitText from \"react-fittext\";\r\n\r\nimport { makeForm } from \"../helpers\";\r\nimport \"../styles/outputList.scss\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst configurationValues = {\r\n  output: {\r\n    ports: [\r\n      {\r\n        name: {\r\n          name: \"Name of output\",\r\n          type: \"text\"\r\n        },\r\n        formula: {\r\n          name: \"Formula for output\",\r\n          type: \"text\"\r\n        },\r\n        execute: {\r\n          name: \"Only on execute\",\r\n          type: \"checkbox\"\r\n        },\r\n        timeout: {\r\n          name: \"Timeout in seconds\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        }\r\n      }\r\n    ]\r\n  }\r\n};\r\n\r\nclass OutputList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { configModalIsOpen: false, configPortIndex: -1 };\r\n  }\r\n\r\n  openConfigModal = index => {\r\n    this.setState({ configModalIsOpen: true, configPortIndex: index });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"Output Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>Configuration for output {this.state.configPortIndex + 1}</h2>\r\n              {makeForm(\r\n                configurationValues,\r\n                this.props.config,\r\n                this.props.api,\r\n                this.state.configPortIndex\r\n              )}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n        <div className=\"buttonList\">\r\n          <div className=\"buttonList--title\">\r\n            <div className=\"center\">\r\n              <FitText>\r\n                <div>Outputs</div>\r\n              </FitText>\r\n            </div>\r\n          </div>\r\n          {this.props.outputs\r\n            .map((port, index) => ({ ...port, index }))\r\n            .filter((port, index) => {\r\n              return (\r\n                this.props.portsEnabled[index] ||\r\n                port.name !== \"\" ||\r\n                !this.props.configLocked\r\n              );\r\n            })\r\n            .map(port => {\r\n              let indicator = \"buttonList--list--indicator--output\";\r\n              if (port.isForced) indicator += \"Forced\";\r\n\r\n              if (port.state) {\r\n                indicator += \"On\";\r\n              } else if (port.result && !port.isForced) {\r\n                indicator += \"Execute\";\r\n              } else {\r\n                indicator += \"Off\";\r\n              }\r\n\r\n              return (\r\n                <div\r\n                  key={port.index}\r\n                  className=\"buttonList--list--item\"\r\n                  onClick={\r\n                    this.props.configLocked\r\n                      ? () => this.props.api.forceOutput(port.index)\r\n                      : () => this.openConfigModal(port.index)\r\n                  }\r\n                >\r\n                  <div className={\"buttonList--list--indicator \" + indicator}>\r\n                    <div className=\"center\">\r\n                      <FitText compressor={1.05}>\r\n                        <div>{port.name}</div>\r\n                      </FitText>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const outputs = state.internal.outputs.map((output, index) => ({\r\n    ...output,\r\n    name: state.config.output.ports[index].name\r\n  }));\r\n\r\n  const configLocked = state.config.locked;\r\n  const config = state.config;\r\n\r\n  const portsEnabled = state.config.output.ports.map(\r\n    port => port.formula !== \"\"\r\n  );\r\n\r\n  return {\r\n    outputs,\r\n    configLocked,\r\n    config,\r\n    portsEnabled\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(OutputList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport FitText from \"react-fittext\";\r\n\r\nimport { makeForm } from \"../helpers\";\r\nimport \"../styles/inputList.scss\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst configurationValues = {\r\n  input: {\r\n    ports: [\r\n      {\r\n        name: {\r\n          name: \"Name of cell\",\r\n          type: \"text\"\r\n        },\r\n        formula: {\r\n          name: \"Command for input\",\r\n          type: \"select\",\r\n          options: {\r\n            \"\": \"\",\r\n            exe: \"Execute\",\r\n            exebl: \"Execute Block\",\r\n            teach: \"SL Teach\",\r\n            restart: \"Restart\",\r\n            shutdown: \"Shutdown\"\r\n          }\r\n        },\r\n        invert: {\r\n          name: \"Invert follow\",\r\n          type: \"checkbox\"\r\n        },\r\n        follow: {\r\n          name: \"Follow output\",\r\n          type: \"select\",\r\n          numeric: true,\r\n          options: {\r\n            \"-1\": \"None\",\r\n            \"0\": \"Follow ouput 1\",\r\n            \"1\": \"Follow ouput 2\",\r\n            \"2\": \"Follow ouput 3\",\r\n            \"3\": \"Follow ouput 4\",\r\n            \"4\": \"Follow ouput 5\",\r\n            \"5\": \"Follow ouput 6\",\r\n            \"6\": \"Follow ouput 7\",\r\n            \"7\": \"Follow ouput 8\",\r\n            \"8\": \"Follow ouput 9\",\r\n            \"9\": \"Follow ouput 10\"\r\n          }\r\n        },\r\n        timeout: {\r\n          name: \"Debounce timeout (ms)\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        },\r\n        manualTimeout: {\r\n          name: \"Manual timeout (s)\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1\r\n        }\r\n      }\r\n    ]\r\n  }\r\n};\r\n\r\nclass InputList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { configModalIsOpen: false, configPortIndex: -1 };\r\n  }\r\n\r\n  openConfigModal = index => {\r\n    this.setState({ configModalIsOpen: true, configPortIndex: index });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"Input Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>Configuration for input {this.state.configPortIndex + 1}</h2>\r\n              {makeForm(\r\n                configurationValues,\r\n                this.props.config,\r\n                this.props.api,\r\n                this.state.configPortIndex\r\n              )}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n        <div className=\"buttonList inputList\">\r\n          <div className=\"buttonList--title\">\r\n            <div className=\"center\">\r\n              <FitText>\r\n                <div>Inputs</div>\r\n              </FitText>\r\n            </div>\r\n          </div>\r\n          {this.props.inputs\r\n            .map((port, index) => ({ ...port, index }))\r\n            .filter((port, index) => {\r\n              return (\r\n                this.props.portsEnabled[index] ||\r\n                port.name !== \"\" ||\r\n                !this.props.configLocked\r\n              );\r\n            })\r\n            .map(port => {\r\n              let indicator = \"buttonList--list--indicator--input\";\r\n              if (port.isForced) indicator += \"Forced\";\r\n\r\n              indicator += port.state ? \"On\" : \"Off\";\r\n\r\n              return (\r\n                <div\r\n                  key={port.index}\r\n                  className=\"buttonList--list--item\"\r\n                  onClick={\r\n                    this.props.configLocked\r\n                      ? () => this.props.api.forceInput(port.index)\r\n                      : () => this.openConfigModal(port.index)\r\n                  }\r\n                >\r\n                  <div className={\"buttonList--list--indicator \" + indicator}>\r\n                    <div className=\"center\">\r\n                      <FitText compressor={1.05}>\r\n                        <div>{port.name}</div>\r\n                      </FitText>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const inputs = state.internal.inputs.map((input, index) => ({\r\n    ...input,\r\n    name: state.config.input.ports[index].name\r\n  }));\r\n\r\n  const configLocked = state.config.locked;\r\n  const config = state.config;\r\n\r\n  const portsEnabled = state.config.input.ports.map(\r\n    port => port.formula !== \"\"\r\n  );\r\n\r\n  return {\r\n    inputs,\r\n    configLocked,\r\n    config,\r\n    portsEnabled\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(InputList);\r\n","import React from \"react\";\r\nimport FitText from \"react-fittext\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { daysToDate } from \"../helpers\";\r\n\r\nimport \"../styles/tableCell.scss\";\r\n\r\nconst TableCell = props => {\r\n  const { index, cell } = props;\r\n  let content;\r\n  switch (cell.type) {\r\n    case \"manual\": {\r\n      content = (\r\n        <input\r\n          type={props.cell.numeric ? \"number\" : \"text\"}\r\n          className={classnames(\r\n            \"tableCell--content--input\",\r\n            { \"tableCell--content--input--text\": !cell.numeric },\r\n            { \"tableCell--content--input--numeric\": cell.numeric }\r\n          )}\r\n          onChange={e => props.manualFunction(index, e.target.value)}\r\n          value={cell.value}\r\n        />\r\n      );\r\n      if (props.cell.numeric) {\r\n        const decrement = () => {\r\n          props.manualFunction(index, Number(cell.value) - 1);\r\n        };\r\n        const increment = () => {\r\n          props.manualFunction(index, Number(cell.value) + 1);\r\n        };\r\n\r\n        content = (\r\n          <>\r\n            <button onClick={decrement}>-</button>\r\n            {content}\r\n            <button onClick={increment}>+</button>\r\n          </>\r\n        );\r\n      }\r\n      break;\r\n    }\r\n    case \"menu\": {\r\n      const menuOptions = cell.menuOptions || [];\r\n\r\n      content = (\r\n        <select\r\n          className={classnames(\r\n            \"tableCell--content--input\",\r\n            { \"tableCell--content--input--text\": !cell.numeric },\r\n            { \"tableCell--content--input--numeric\": cell.numeric }\r\n          )}\r\n          onChange={e => props.manualFunction(index, e.target.value)}\r\n          value={cell.value}\r\n        >\r\n          {menuOptions.map(option => (\r\n            <option value={option.key}>{option.value}</option>\r\n          ))}\r\n        </select>\r\n      );\r\n\r\n      if (cell.numeric) {\r\n        const decrement = () => {\r\n          let newMenuIndex =\r\n            menuOptions.findIndex(option => option.key === cell.value) - 1;\r\n\r\n          if (newMenuIndex < 0) newMenuIndex = menuOptions.length - 1;\r\n\r\n          props.manualFunction(index, menuOptions[newMenuIndex].key);\r\n        };\r\n        const increment = () => {\r\n          let newMenuIndex =\r\n            menuOptions.findIndex(option => option.key === cell.value) + 1;\r\n\r\n          if (newMenuIndex === 0 || newMenuIndex === menuOptions.length)\r\n            newMenuIndex = 0;\r\n\r\n          props.manualFunction(index, menuOptions[newMenuIndex].key);\r\n        };\r\n\r\n        content = (\r\n          <>\r\n            <button onClick={decrement}>-</button>\r\n            {content}\r\n            <button onClick={increment}>+</button>\r\n          </>\r\n        );\r\n      }\r\n      break;\r\n    }\r\n    case \"date\": {\r\n      const date = daysToDate(cell.value);\r\n\r\n      content = `${date.getDate()}-${date.getMonth()}-${date.getFullYear()}`;\r\n      break;\r\n    }\r\n    default: {\r\n      content = cell.value;\r\n      break;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={classnames(\"tableCell\", {\r\n        \"tableCell--notFound\": props.notFound\r\n      })}\r\n    >\r\n      <div className=\"tableCell--title\" onClick={props.openModal}>\r\n        <FitText>\r\n          <div className=\"center\">{cell.name}</div>\r\n        </FitText>\r\n      </div>\r\n      <div className=\"tableCell--content\">\r\n        <FitText compressor={0.6}>\r\n          <div className=\"center\">{content}</div>\r\n        </FitText>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableCell;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport TableCell from \"./TableCell\";\r\nimport { makeForm } from \"../helpers\";\r\nimport \"../styles/table.scss\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst configurationValues = {\r\n  table: {\r\n    cells: [\r\n      {\r\n        name: {\r\n          name: \"Name of cell\",\r\n          type: \"text\"\r\n        },\r\n        type: {\r\n          name: \"Type of content\",\r\n          type: \"select\",\r\n          options: {\r\n            normal: \"Normal\",\r\n            date: \"Date\",\r\n            manual: \"Input\",\r\n            menu: \"Menu\"\r\n          }\r\n        },\r\n        numeric: {\r\n          name: \"Treat value as a number\",\r\n          type: \"checkbox\"\r\n        },\r\n        formula: {\r\n          name: \"Formula for cell value\",\r\n          type: \"text\",\r\n          condition: (config, index) =>\r\n            [\"normal\", \"date\"].includes(config.table.cells[index].type)\r\n        },\r\n        menuOptions: {\r\n          name: \"Options and values for menu\",\r\n          type: \"keyValue\",\r\n          condition: (config, index) =>\r\n            config.table.cells[index].type === \"menu\"\r\n        },\r\n        digits: {\r\n          name: \"Number of digits\",\r\n          type: \"number\",\r\n          min: 0,\r\n          step: 1,\r\n          condition: (config, index) =>\r\n            config.table.cells[index].type !== \"menu\"\r\n        },\r\n        resetOnExe: {\r\n          name: \"Reset value after execute\",\r\n          type: \"checkbox\"\r\n        },\r\n        colorConditions: {\r\n          name: \"Conditions for cell colors\",\r\n          type: \"text\"\r\n        }\r\n      }\r\n    ]\r\n  }\r\n};\r\n\r\nclass Table extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { configModalIsOpen: false, configCellIndex: -1 };\r\n  }\r\n\r\n  openConfigModal = index => {\r\n    this.setState({ configModalIsOpen: true, configCellIndex: index });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    const cells = this.props.cells\r\n      .map((cell, index) => ({\r\n        index,\r\n        ...cell,\r\n        ...this.props.cellConfig[index]\r\n      }))\r\n      .filter(cell => !this.props.configLocked || cell.formula || cell.name);\r\n\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"Table Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>\r\n                Configuration for cell{\" \"}\r\n                {String.fromCharCode(\r\n                  65 + Math.floor(this.state.configCellIndex / 5)\r\n                )}\r\n                {(this.state.configCellIndex % 5) + 1}\r\n              </h2>\r\n              {makeForm(\r\n                configurationValues,\r\n                this.props.config,\r\n                this.props.api,\r\n                this.state.configCellIndex\r\n              )}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n        <div className={`table--grid table--grid--${cells.length}`}>\r\n          {cells.map(cell => (\r\n            <TableCell\r\n              key={cell.index}\r\n              cell={cell}\r\n              index={cell.index}\r\n              notFound={this.props.notFound}\r\n              manualFunction={this.props.api.tableManual}\r\n              openModal={\r\n                this.props.configLocked\r\n                  ? this.props.openLog\r\n                  : () => this.openConfigModal(cell.index)\r\n              }\r\n            />\r\n          ))}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const cells = state.internal.cells.map((cell, index) => ({\r\n    ...cell,\r\n    name: state.config.table.cells[index].name\r\n  }));\r\n\r\n  return {\r\n    cells,\r\n    configLocked: state.config.locked,\r\n    config: state.config,\r\n    cellConfig: state.config.table.cells,\r\n    notFound: state.internal.tableNotFound\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Table);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport ReactTable from \"react-table\";\r\nimport FitText from \"react-fittext\";\r\nimport classNames from \"classnames\";\r\nimport Toggle from \"react-toggle\";\r\n\r\nimport { makeForm } from \"../helpers\";\r\nimport \"../styles/selfLearning.scss\";\r\nimport \"react-table/react-table.css\";\r\n\r\nconst configurationValues = {\r\n  selfLearning: {\r\n    enabled: {\r\n      name: \"Enabled type\",\r\n      type: \"select\",\r\n      options: {\r\n        off: \"Off\",\r\n        com0: \"Com 0\",\r\n        com1: \"Com 1\",\r\n        com0ind: \"Com 0 Individual\",\r\n        com1ind: \"Com 1 Individual\"\r\n      }\r\n    },\r\n    number: {\r\n      name: \"Number\",\r\n      type: \"number\",\r\n      min: 0,\r\n      step: 1,\r\n      condition: config => config.selfLearning.enabled !== \"off\"\r\n    },\r\n    startCalibration: {\r\n      name: \"Calibration\",\r\n      type: \"number\",\r\n      min: 0,\r\n      step: 1,\r\n      condition: config => config.selfLearning.enabled !== \"off\"\r\n    },\r\n    tolerance: {\r\n      name: \"Tolerance\",\r\n      type: \"number\",\r\n      min: 0,\r\n      step: 1,\r\n      condition: config => config.selfLearning.enabled !== \"off\"\r\n    },\r\n    startTolerance: {\r\n      name: \"Additional tolerance during learning\",\r\n      type: \"number\",\r\n      min: 0,\r\n      step: 1,\r\n      condition: config =>\r\n        config.selfLearning.enabled !== \"off\" &&\r\n        !config.selfLearning.enabled.endsWith(\"ind\")\r\n    },\r\n    individualTolerance: {\r\n      name: \"Individual tolerance\",\r\n      type: \"number\",\r\n      min: 0,\r\n      step: 1,\r\n      condition: config => config.selfLearning.enabled.endsWith(\"ind\")\r\n    },\r\n    individualToleranceIncrement: {\r\n      name: \"Individual tolerance increment\",\r\n      type: \"number\",\r\n      min: 0,\r\n      step: 1,\r\n      condition: config => config.selfLearning.enabled.endsWith(\"ind\")\r\n    },\r\n    individualToleranceLimit: {\r\n      name: \"Individual tolerance limit\",\r\n      type: \"number\",\r\n      min: 0,\r\n      step: 1,\r\n      condition: config => config.selfLearning.enabled.endsWith(\"ind\")\r\n    }\r\n  }\r\n};\r\n\r\nconst individualColors = [\"\", \"green\", \"yellow\", \"orange\", \"red\"];\r\nconst textColors = [\"black\", \"white\", \"black\", \"black\", \"white\"];\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nclass SelfLearning extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      SLModalIsOpen: false,\r\n      configModalIsOpen: false,\r\n      showIndividualTable: false\r\n    };\r\n  }\r\n\r\n  openSLModal = () => {\r\n    this.setState({ SLModalIsOpen: true });\r\n  };\r\n\r\n  closeSLModal = () => {\r\n    this.setState({ SLModalIsOpen: false });\r\n  };\r\n\r\n  openConfigModal = () => {\r\n    this.setState({ configModalIsOpen: true });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  toggleIndividualTable = () => {\r\n    this.setState({ showIndividualTable: !this.state.showIndividualTable });\r\n  };\r\n\r\n  getSLModalContent = () => {\r\n    const keyName = this.props.config.serial.coms[1 - this.props.comIndex].name;\r\n    const valueName = this.props.config.serial.coms[this.props.comIndex].name;\r\n    const rounding = this.props.config.serial.coms[this.props.comIndex].digits;\r\n\r\n    const generalTableColumns = [\r\n      {\r\n        Header: valueName,\r\n        accessor: row => row.entries[0].toFixed(rounding),\r\n        id: 10,\r\n        style: { textAlign: \"center\" },\r\n        width: 70\r\n      },\r\n      {\r\n        Header: \"-1\",\r\n        accessor: row => {\r\n          const val = row.entries[1];\r\n          return val ? val.toFixed(rounding) : \"\";\r\n        },\r\n        id: 2,\r\n        style: { textAlign: \"center\" },\r\n        width: 70\r\n      },\r\n      {\r\n        Header: \"-2\",\r\n        accessor: row => {\r\n          const val = row.entries[2];\r\n          return val ? val.toFixed(rounding) : \"\";\r\n        },\r\n        id: 3,\r\n        style: { textAlign: \"center\" },\r\n        width: 70\r\n      },\r\n      {\r\n        Header: \"-3\",\r\n        accessor: row => {\r\n          const val = row.entries[3];\r\n          return val ? val.toFixed(rounding) : \"\";\r\n        },\r\n        id: 4,\r\n        style: { textAlign: \"center\" },\r\n        width: 70\r\n      },\r\n      {\r\n        Header: \"-4\",\r\n        accessor: row => {\r\n          const val = row.entries[4];\r\n          return val ? val.toFixed(rounding) : \"\";\r\n        },\r\n        id: 5,\r\n        style: { textAlign: \"center\" },\r\n        width: 70\r\n      },\r\n      {\r\n        Header: keyName,\r\n        accessor: \"key\",\r\n        style: { textAlign: \"center\" },\r\n        width: 200\r\n      },\r\n      {\r\n        Header: () => <input type=\"text\" />,\r\n        accessor: \"calibration\",\r\n        style: { textAlign: \"center\" },\r\n        width: 70\r\n      },\r\n      {\r\n        Header: (\r\n          <button\r\n            onClick={() => {\r\n              if (\r\n                window.confirm(\r\n                  `Are you sure you want to delete all general entries?`\r\n                )\r\n              ) {\r\n                this.props.api.deleteGeneralSL();\r\n              }\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        ),\r\n        Cell: props => {\r\n          return (\r\n            <button\r\n              onClick={() => {\r\n                if (\r\n                  window.confirm(\r\n                    `Are you sure you want to delete general entries for ${\r\n                      props.original.key\r\n                    }?`\r\n                  )\r\n                ) {\r\n                  this.props.api.deleteGeneralSL(props.original.key);\r\n                }\r\n              }}\r\n            >\r\n              Delete\r\n            </button>\r\n          );\r\n        },\r\n        id: 1,\r\n        style: { textAlign: \"center\" },\r\n        width: 70\r\n      }\r\n    ];\r\n\r\n    const individualTableColumns = [\r\n      {\r\n        Header: valueName,\r\n        accessor: row => row.calibration.toFixed(rounding),\r\n        style: { textAlign: \"center\" },\r\n        width: 70,\r\n        id: 12\r\n      },\r\n      {\r\n        Header: keyName,\r\n        accessor: \"key\",\r\n        style: { textAlign: \"center\" },\r\n        width: 200\r\n      },\r\n      {\r\n        Header: () => <input type=\"text\" />,\r\n        accessor: \"calibration\",\r\n        style: { textAlign: \"center\" },\r\n        width: 70\r\n      },\r\n      {\r\n        Header: \"Tol\",\r\n        accessor: \"tolerance\",\r\n        Cell: props => {\r\n          return (\r\n            <div\r\n              style={{\r\n                backgroundColor: individualColors[props.original.increments],\r\n                color: textColors[props.original.increments]\r\n              }}\r\n            >\r\n              {props.value}\r\n            </div>\r\n          );\r\n        },\r\n        style: { textAlign: \"center\" },\r\n        width: 50\r\n      },\r\n      {\r\n        Header: \"Num\",\r\n        accessor: \"numUpdates\",\r\n        style: { textAlign: \"center\" },\r\n        width: 50\r\n      },\r\n      {\r\n        Header: (\r\n          <button\r\n            onClick={() => {\r\n              if (\r\n                window.confirm(\r\n                  `Are you sure you want to delete all individual entries?`\r\n                )\r\n              ) {\r\n                this.props.api.deleteIndividualSL();\r\n              }\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        ),\r\n        Cell: props => {\r\n          return (\r\n            <button\r\n              onClick={() => {\r\n                if (\r\n                  window.confirm(\r\n                    `Are you sure you want to delete the entry for ${\r\n                      props.original.key\r\n                    }?`\r\n                  )\r\n                ) {\r\n                  this.props.api.deleteIndividualSL(props.original.key);\r\n                }\r\n              }}\r\n            >\r\n              Delete\r\n            </button>\r\n          );\r\n        },\r\n        id: 1,\r\n        style: { textAlign: \"center\" },\r\n        width: 70\r\n      }\r\n    ];\r\n\r\n    const individualEntries = [];\r\n    const generalEntries = [];\r\n\r\n    for (let key in this.props.generalEntries) {\r\n      generalEntries.push({ key, entries: this.props.generalEntries[key] });\r\n    }\r\n    for (let key in this.props.individualEntries) {\r\n      individualEntries.push({ key, ...this.props.individualEntries[key] });\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <span>\r\n          <Toggle\r\n            checked={this.state.showIndividualTable}\r\n            onChange={this.toggleIndividualTable}\r\n          />\r\n          Show individual entries\r\n        </span>\r\n        {this.state.showIndividualTable ? (\r\n          <>\r\n            <div className=\"selfLearning--modal--title\"> UN-list </div>\r\n            <ReactTable\r\n              data={individualEntries}\r\n              columns={individualTableColumns}\r\n            />\r\n          </>\r\n        ) : (\r\n          <>\r\n            <div className=\"selfLearning--modal--title\"> SL-list </div>\r\n            <ReactTable\r\n              style={{ textAlign: \"center\" }}\r\n              data={generalEntries}\r\n              columns={generalTableColumns}\r\n            />\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const indicators = [\r\n      \"selfLearning--inProgress\",\r\n      \"selfLearning--success\",\r\n      \"selfLearning--warning\"\r\n    ];\r\n\r\n    const cells = [\r\n      \"Self Learning\",\r\n      (this.props.calibration || 0).toFixed(\r\n        this.props.config.serial.coms[this.props.comIndex || 0].digits\r\n      ) || 0,\r\n      Math.round((this.props.tolerance || 0) * 1000) / 10 + \"%\"\r\n    ];\r\n\r\n    if (!this.props.individual && this.props.success) {\r\n      cells.push(\r\n        Math.round(\r\n          (this.props.tolerance || 0 - this.props.matchedTolerance || 0) * 1000\r\n        ) /\r\n          10 +\r\n          \"%\"\r\n      );\r\n    }\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"SelfLearning Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>Configuration for SelfLearning</h2>\r\n              {makeForm(configurationValues, this.props.config, this.props.api)}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n        <Modal\r\n          isOpen={this.state.SLModalIsOpen}\r\n          onRequestClose={this.closeSLModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"SelfLearning Modal\"\r\n        >\r\n          {this.state.SLModalIsOpen && this.getSLModalContent()}\r\n        </Modal>\r\n        <div\r\n          className={classNames(\r\n            \"selfLearning\",\r\n            indicators[this.props.success || 0]\r\n          )}\r\n          onClick={\r\n            this.props.configLocked\r\n              ? this.props.individual\r\n                ? this.openSLModal\r\n                : null\r\n              : this.openConfigModal\r\n          }\r\n        >\r\n          {cells.map((cell, index) => (\r\n            <div key={index} className={\"selfLearning--cell\"}>\r\n              <div className=\"center\">\r\n                <FitText compressor={0.65}>\r\n                  <div>{cell}</div>\r\n                </FitText>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  const configLocked = state.config.locked;\r\n  const config = state.config;\r\n  const individual = state.internal.selfLearning.individual;\r\n\r\n  return { ...state.internal.selfLearning, configLocked, config, individual };\r\n}\r\n\r\nexport default connect(mapStateToProps)(SelfLearning);\r\n","import React from \"react\";\r\nimport \"../styles/logo.scss\";\r\n\r\nconst Logo = props => {\r\n  return (\r\n    <div className=\"logo\" onClick={props.onClick}>\r\n      <img className=\"center\" src={props.image} alt={props.alt} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import React, { Component } from \"react\";\r\nimport FitText from \"react-fittext\";\r\nimport moment from \"moment\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\n\r\nimport { makeForm } from \"../helpers\";\r\n\r\nimport \"../styles/infobar.scss\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nconst configurationValues = {\r\n  serial: {\r\n    title: {\r\n      name: \"Serial\",\r\n      type: \"title\"\r\n    },\r\n    resetTrigger: {\r\n      name: \"Reset on zero\",\r\n      type: \"select\",\r\n      options: { off: \"Off\", on: \"On\", com0: \"Com 0\", com1: \"Com 1\" }\r\n    }\r\n  },\r\n  table: {\r\n    title: {\r\n      name: \"Table\",\r\n      type: \"title\"\r\n    },\r\n    trigger: {\r\n      name: \"Trigger\",\r\n      type: \"select\",\r\n      options: { \"0\": \"Com 0\", \"1\": \"Com 1\" }\r\n    },\r\n    useFile: { name: \"Use imported file\", type: \"checkbox\" },\r\n    waitForOther: { name: \"Wait for other com\", type: \"checkbox\" },\r\n    searchColumn: {\r\n      name: \"Column to search in\",\r\n      type: \"number\",\r\n      min: 0,\r\n      step: 1\r\n    }\r\n  },\r\n  logger: {\r\n    title: {\r\n      name: \"Logger\",\r\n      type: \"title\"\r\n    },\r\n    writeToFile: {\r\n      name: \"Write log to file\",\r\n      type: \"checkbox\"\r\n    },\r\n    logID: {\r\n      name: \"ID of log\",\r\n      type: \"text\"\r\n    },\r\n    unique: {\r\n      name: \"Unique log type\",\r\n      type: \"select\",\r\n      options: { off: \"Off\", com0: \"Com 0\", com1: \"Com 1\" }\r\n    },\r\n    resetMode: {\r\n      name: \"Reset mode\",\r\n      type: \"select\",\r\n      options: { off: \"Off\", time: \"Time of day\", interval: \"Time interval\" }\r\n    },\r\n    resetTime: {\r\n      name: \"Reset time\",\r\n      type: \"time\",\r\n      condition: config => config.logger.resetMode === \"time\"\r\n    },\r\n    resetInterval: {\r\n      name: \"Interval (min)\",\r\n      type: \"number\",\r\n      min: 0,\r\n      step: 1,\r\n      condition: config => config.logger.resetMode === \"interval\"\r\n    }\r\n  },\r\n  FTP: {\r\n    title: {\r\n      name: \"FTP\",\r\n      type: \"title\"\r\n    },\r\n    automatic: {\r\n      name: \"Automatically upload logs on FTP\",\r\n      type: \"checkbox\"\r\n    },\r\n    targets: [1, 2].map(index => ({\r\n      title: {\r\n        name: \"Target \" + index,\r\n        type: \"subtitle\"\r\n      },\r\n      address: {\r\n        name: \"Address\",\r\n        type: \"text\"\r\n      },\r\n      folder: {\r\n        name: \"Folder\",\r\n        type: \"text\"\r\n      },\r\n      username: {\r\n        name: \"Username\",\r\n        type: \"text\"\r\n      },\r\n      password: {\r\n        name: \"Password\",\r\n        type: \"text\"\r\n      }\r\n    }))\r\n  }\r\n};\r\n\r\nclass Infobar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.uploadRef = React.createRef();\r\n    this.state = { configModalIsOpen: false, listModalIsOpen: false };\r\n  }\r\n\r\n  openConfigModal = () => {\r\n    this.setState({ configModalIsOpen: true });\r\n  };\r\n\r\n  closeConfigModal = () => {\r\n    this.setState({ configModalIsOpen: false });\r\n  };\r\n\r\n  openListModal = () => {\r\n    this.setState({ listModalIsOpen: true });\r\n  };\r\n\r\n  closeListModal = () => {\r\n    this.setState({ listModalIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Modal\r\n          isOpen={this.state.listModalIsOpen}\r\n          onRequestClose={this.closeListModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"List of loadable configurations\"\r\n        >\r\n          <h2>List of saved configurations</h2>\r\n          <form>\r\n            {this.props.configList.map(config => {\r\n              return (\r\n                <>\r\n                  {config}\r\n                  <input\r\n                    type=\"button\"\r\n                    value=\"Delete\"\r\n                    onClick={() => this.props.api.deleteConfig(config)}\r\n                  />\r\n                  <input\r\n                    type=\"button\"\r\n                    value=\"Load\"\r\n                    onClick={() => this.props.api.loadConfig(config)}\r\n                  />\r\n                  <input\r\n                    type=\"button\"\r\n                    value=\"Download\"\r\n                    onClick={() => this.props.api.downloadConfig(config)}\r\n                  />\r\n                  <br />\r\n                </>\r\n              );\r\n            })}\r\n            <input\r\n              type=\"button\"\r\n              value=\"Upload\"\r\n              onClick={() => this.uploadRef.click()}\r\n            />\r\n            <input\r\n              type=\"button\"\r\n              value=\"Load default\"\r\n              onClick={() => {\r\n                this.props.api.loadConfig(\"template.json\");\r\n              }}\r\n            />\r\n          </form>\r\n          <form\r\n            id=\"uploadForm\"\r\n            action=\"uploadConfig\"\r\n            method=\"post\"\r\n            enctype=\"multipart/form-data\"\r\n            onChange={event => {\r\n              const file = event.target.files[0];\r\n\r\n              const versionName = file.name.match(/V[0-9.]+\\.json$/);\r\n              if (!versionName) {\r\n                alert(\"Config does not have a valid name\");\r\n                return;\r\n              }\r\n              const mayorVersion = versionName[0].slice(1, -3).split(\".\")[0];\r\n\r\n              const currentMayorVersion = this.props.config.version.split(\r\n                \".\"\r\n              )[0];\r\n\r\n              if (mayorVersion !== currentMayorVersion) {\r\n                alert(\"Version of new config does not match the current one\");\r\n                return;\r\n              }\r\n\r\n              this.uploadRef.parentElement.submit();\r\n            }}\r\n          >\r\n            <input\r\n              style={{ display: \"none\" }}\r\n              type=\"file\"\r\n              name=\"importConfig\"\r\n              accept=\".json\"\r\n              ref={input => {\r\n                this.uploadRef = input;\r\n              }}\r\n            />\r\n          </form>\r\n        </Modal>\r\n        <Modal\r\n          isOpen={this.state.configModalIsOpen}\r\n          onRequestClose={this.closeConfigModal}\r\n          overlayClassName=\"modalOverlay\"\r\n          className=\"modalContent\"\r\n          contentLabel=\"General Configuration Modal\"\r\n        >\r\n          {this.state.configModalIsOpen && (\r\n            <form>\r\n              <h2>General configuration</h2>\r\n              <div className=\"infobar--modalButtons\">\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"Save config\"\r\n                  onClick={() => {\r\n                    const name = prompt(\r\n                      \"Please enter the name for the new config file:\",\r\n                      \"config\"\r\n                    );\r\n                    if (name) this.props.api.saveConfig(name);\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"Load config\"\r\n                  onClick={() => {\r\n                    this.props.api.getConfigList();\r\n                    this.openListModal();\r\n                    this.closeConfigModal();\r\n                  }}\r\n                />\r\n              </div>\r\n              {makeForm(configurationValues, this.props.config, this.props.api)}\r\n            </form>\r\n          )}\r\n        </Modal>\r\n\r\n        <div\r\n          className=\"infobar\"\r\n          onClick={this.props.configLocked ? null : this.openConfigModal}\r\n        >\r\n          <FitText>\r\n            <div className=\"infobar--item\">\r\n              <div className=\"center\">{this.props.name}</div>\r\n            </div>\r\n          </FitText>\r\n          <FitText>\r\n            <div className=\"infobar--item\">\r\n              <div className=\"center\">{this.props.ip}</div>\r\n            </div>\r\n          </FitText>\r\n          <FitText>\r\n            <div className=\"infobar--item\">\r\n              <div className=\"center\">\r\n                {moment(this.props.time).format(\"HH:mm:ss\")}\r\n              </div>\r\n            </div>\r\n          </FitText>\r\n          <FitText>\r\n            <div className=\"infobar--item\">\r\n              <div className=\"center\">\r\n                {moment(this.props.time).format(\"DD-MM-YYYY\")}\r\n              </div>\r\n            </div>\r\n          </FitText>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const name = state.static.name;\r\n  const ip = state.misc.ip;\r\n  const time = state.misc.time;\r\n\r\n  const configLocked = state.config.locked;\r\n  const config = state.config;\r\n\r\n  const configList = state.misc.configList;\r\n\r\n  return {\r\n    name,\r\n    ip,\r\n    time,\r\n    configLocked,\r\n    config,\r\n    configList\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Infobar);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport ReactTable from \"react-table\";\r\nimport Toggle from \"react-toggle\";\r\nimport classNames from \"classnames\";\r\n\r\nimport ComList from \"./ComList\";\r\nimport OutputList from \"./OutputList\";\r\nimport InputList from \"./InputList\";\r\nimport Table from \"./Table\";\r\nimport SelfLearning from \"./SelfLearning\";\r\nimport Logo from \"./Logo\";\r\nimport { getColumnWidth } from \"../helpers\";\r\n\r\nimport MBDC from \"../assets/Logo-MBDC.jpg\";\r\nimport Infobar from \"./Infobar\";\r\n\r\nimport \"../styles/main.scss\";\r\nimport \"react-toggle/style.css\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nclass Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    props.api.getLogo().then(result => {\r\n      if (result) {\r\n        this.setState({ logo: result });\r\n      }\r\n    });\r\n\r\n    this.state = {\r\n      logModalIsOpen: false,\r\n      logModalUnique: false,\r\n      logEntries: [],\r\n      logTableColumns: [],\r\n      logo: MBDC,\r\n      reloadInterval: null\r\n    };\r\n  }\r\n\r\n  openLogModal = () => {\r\n    this.setState({\r\n      logModalIsOpen: true,\r\n      reloadInterval: setInterval(this.reloadLogEntries, 1000)\r\n    });\r\n    this.reloadLogEntries();\r\n  };\r\n\r\n  reloadLogEntries = e => {\r\n    const unique = e ? e.target.checked : this.state.logModalUnique;\r\n    const getFunction = unique\r\n      ? this.props.api.getUniqueLog\r\n      : this.props.api.getLog;\r\n\r\n    getFunction().then(result => {\r\n      this.setState({\r\n        logTableColumns: result.data.legend\r\n          .map((name, index) => ({\r\n            Header: () => <b>{name}</b>,\r\n            accessor: index + \"\",\r\n            width: getColumnWidth(result.data.entries, index + \"\"),\r\n            style: { textAlign: \"center\" }\r\n          }))\r\n          .filter((name, index) => index >= 2),\r\n        logEntries: result.data.entries,\r\n        logModalUnique: unique\r\n      });\r\n    });\r\n  };\r\n\r\n  closeLogModal = () => {\r\n    clearInterval(this.state.reloadInterval);\r\n    this.setState({ logModalIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.loaded) {\r\n      return <div className=\"loadingScreen\">Loading</div>;\r\n    }\r\n\r\n    return (\r\n      <div id=\"page-wrap\">\r\n        <div\r\n          className={classNames(\r\n            \"main\",\r\n            { \"main--noinputs\": !this.props.showInputs },\r\n            { \"main--notable\": !this.props.showTable },\r\n            { \"main--nooutputs\": !this.props.showOutputs }\r\n          )}\r\n        >\r\n          <Modal\r\n            isOpen={this.state.logModalIsOpen}\r\n            onRequestClose={this.closeLogModal}\r\n            overlayClassName=\"modalOverlay\"\r\n            className=\"modalContent\"\r\n            contentLabel=\"Log Modal\"\r\n          >\r\n            {this.props.uniqueLogEnabled && (\r\n              <span>\r\n                <Toggle\r\n                  checked={this.state.logModalUnique}\r\n                  onChange={this.reloadLogEntries}\r\n                />\r\n                Only show unique entries\r\n              </span>\r\n            )}\r\n            <div className=\"main--logModal\">\r\n              <div>\r\n                <div className=\"main--logModal--title\">\r\n                  {this.state.logModalUnique ? \"Unique Log\" : \"Normal Log\"}\r\n                </div>\r\n                <ReactTable\r\n                  style={{ fontSize: 13 }}\r\n                  data={this.state.logEntries}\r\n                  columns={this.state.logTableColumns}\r\n                />\r\n              </div>\r\n            </div>\r\n          </Modal>\r\n          <div className=\"info\">\r\n            <Infobar api={this.props.api} />\r\n          </div>\r\n\r\n          <div className=\"logo\">\r\n            <Logo\r\n              image={this.state.logo}\r\n              alt=\"LOGO\"\r\n              onClick={this.props.api.openMenu}\r\n            />\r\n          </div>\r\n\r\n          <div\r\n            className={classNames(\"coms\", {\r\n              \"coms--noselfLearning\": !this.props.showSelfLearning\r\n            })}\r\n          >\r\n            {this.props.showSelfLearning && (\r\n              <SelfLearning api={this.props.api} />\r\n            )}\r\n            <ComList api={this.props.api} />\r\n          </div>\r\n\r\n          {this.props.showOutputs && (\r\n            <div className=\"outputs\">\r\n              {this.props.showOutputs && <OutputList api={this.props.api} />}{\" \"}\r\n            </div>\r\n          )}\r\n          {this.props.showInputs && (\r\n            <div className=\"inputs\">\r\n              {this.props.showInputs && <InputList api={this.props.api} />}\r\n            </div>\r\n          )}\r\n          {this.props.showTable && (\r\n            <div className=\"table\">\r\n              <Table api={this.props.api} openLog={this.openLogModal} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const configLocked = state.config.locked;\r\n\r\n  if (!state.config.loaded || !state.static.loaded) {\r\n    return { loaded: false };\r\n  }\r\n\r\n  const showTable =\r\n    state.static.exposeUpload &&\r\n    (!configLocked ||\r\n      state.config.table.cells.reduce((acc, cur) => {\r\n        return acc || cur.name;\r\n      }, false));\r\n\r\n  const showInputs =\r\n    state.static.exposeUpload &&\r\n    (!configLocked ||\r\n      state.config.input.ports.reduce((acc, cur) => {\r\n        return acc || cur.name;\r\n      }, false));\r\n\r\n  const showOutputs =\r\n    state.static.exposeUpload &&\r\n    (!configLocked ||\r\n      state.config.output.ports.reduce((acc, cur) => {\r\n        return acc || cur.name;\r\n      }, false));\r\n\r\n  const showSelfLearning =\r\n    state.static.enabledModules.selfLearning &&\r\n    (!configLocked || state.internal.selfLearning.enabled);\r\n\r\n  const uniqueLogEnabled = state.config.logger.unique !== \"off\";\r\n\r\n  return {\r\n    loaded: true,\r\n    showTable,\r\n    showInputs,\r\n    showOutputs,\r\n    showSelfLearning,\r\n    configLocked,\r\n    uniqueLogEnabled\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Main);\r\n","import React, { Component } from \"react\";\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport Main from \"./components/Main\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div id=\"outer-container\">\r\n        <Sidebar api={this.props.api} />\r\n        <Main api={this.props.api} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const {\r\n  RECEIVE_CONFIG,\r\n  CONFIG_UNLOCK,\r\n  CONFIG_LOCK,\r\n  CONFIG_CHANGE\r\n} = require(\"../actions/types\");\r\n\r\nconst { set } = require(\"../helpers\");\r\n\r\nconst initialState = { loaded: false, locked: true, hasChanged: false };\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case RECEIVE_CONFIG: {\r\n      return { ...state, loaded: true, hasChanged: true, ...action.payload };\r\n    }\r\n    case CONFIG_UNLOCK: {\r\n      return { ...state, locked: false, hasChanged: false };\r\n    }\r\n    case CONFIG_LOCK: {\r\n      return { ...state, locked: true };\r\n    }\r\n    case CONFIG_CHANGE: {\r\n      if (state.locked) return state;\r\n\r\n      const { address, value } = action.payload;\r\n\r\n      set(state, address, value);\r\n\r\n      return { ...state, hasChanged: true };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const { RECEIVE_STATIC } = require(\"../actions/types\");\r\n\r\nconst initialState = { loaded: false };\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case RECEIVE_STATIC: {\r\n      return { loaded: true, ...action.payload };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const dateformat = require(\"dateformat\");\r\n\r\nconst {\r\n  INPUT_PORT_STATE,\r\n  OUTPUT_PORT_STATE,\r\n  SERIAL_COM_STATE,\r\n  TABLE_CELL_STATE,\r\n  SELFLEARNING_STATE,\r\n  TABLE_FOUND_STATE\r\n} = require(\"../actions/types\");\r\n\r\nconst initialState = {\r\n  coms: [],\r\n  outputs: [],\r\n  inputs: [],\r\n  cells: [],\r\n  selfLearning: {\r\n    enabled: false\r\n  },\r\n  tableNotFound: false\r\n};\r\n\r\nexport default function(fullState = initialState, action) {\r\n  switch (action.type) {\r\n    case INPUT_PORT_STATE: {\r\n      const { index, state, isForced } = action.payload;\r\n\r\n      const newInputs = Array.from(fullState.inputs);\r\n      newInputs[index] = { state, isForced };\r\n\r\n      return { ...fullState, inputs: newInputs };\r\n    }\r\n    case OUTPUT_PORT_STATE: {\r\n      const { index, state, result, isForced } = action.payload;\r\n\r\n      const newOutputs = Array.from(fullState.outputs);\r\n      newOutputs[index] = { state, result, isForced };\r\n\r\n      return { ...fullState, outputs: newOutputs };\r\n    }\r\n    case SERIAL_COM_STATE: {\r\n      const { index, entry, entryTime } = action.payload;\r\n\r\n      const newComs = Array.from(fullState.coms);\r\n      let newHistory;\r\n      if (!fullState.coms[index]) fullState.coms[index] = { history: [] };\r\n\r\n      if (!entry) {\r\n        newHistory = fullState.coms[index].history;\r\n      } else {\r\n        newHistory = [\r\n          {\r\n            entry,\r\n            entryTime,\r\n            timeString: dateformat(new Date(entryTime), \"HH:MM:ss\")\r\n          },\r\n          ...fullState.coms[index].history\r\n        ];\r\n      }\r\n\r\n      newComs[index] = {\r\n        entry,\r\n        entryTime,\r\n        history: newHistory\r\n      };\r\n\r\n      return { ...fullState, coms: newComs };\r\n    }\r\n    case TABLE_CELL_STATE: {\r\n      const { index, value, manual } = action.payload;\r\n\r\n      const newCells = Array.from(fullState.cells);\r\n      newCells[index] = { value, manual };\r\n\r\n      return { ...fullState, cells: newCells };\r\n    }\r\n    case SELFLEARNING_STATE: {\r\n      return {\r\n        ...fullState,\r\n        selfLearning: { enabled: true, ...action.payload }\r\n      };\r\n    }\r\n    case TABLE_FOUND_STATE: {\r\n      return {\r\n        ...fullState,\r\n        tableNotFound: action.payload\r\n      };\r\n    }\r\n    default:\r\n      return fullState;\r\n  }\r\n}\r\n","const {\r\n  RECEIVE_IP,\r\n  RECEIVE_TIME,\r\n  TOGGLE_MENU,\r\n  OPEN_MENU,\r\n  CLOSE_MENU,\r\n  RECEIVE_CONFIG_LIST,\r\n  RECEIVE_LOG_LIST\r\n} = require(\"../actions/types\");\r\n\r\nconst initialState = {\r\n  ip: \"\",\r\n  time: new Date().getTime(),\r\n  isMenuOpen: false,\r\n  configList: [],\r\n  logList: []\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case RECEIVE_IP: {\r\n      return {\r\n        ...state,\r\n        ip: action.payload\r\n      };\r\n    }\r\n    case RECEIVE_TIME: {\r\n      return {\r\n        ...state,\r\n        time: action.payload\r\n      };\r\n    }\r\n    case TOGGLE_MENU: {\r\n      return {\r\n        ...state,\r\n        isMenuOpen: !state.isMenuOpen\r\n      };\r\n    }\r\n    case OPEN_MENU: {\r\n      return { ...state, isMenuOpen: true };\r\n    }\r\n    case CLOSE_MENU: {\r\n      return { ...state, isMenuOpen: false };\r\n    }\r\n    case RECEIVE_CONFIG_LIST: {\r\n      return {\r\n        ...state,\r\n        configList: action.payload\r\n      };\r\n    }\r\n    case RECEIVE_LOG_LIST: {\r\n      return {\r\n        ...state,\r\n        logList: action.payload\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport configReducer from \"./configReducer\";\r\nimport staticReducer from \"./staticReducer\";\r\nimport internalReducer from \"./internalReducer\";\r\nimport miscReducer from \"./miscReducer\";\r\n\r\nexport default combineReducers({\r\n  config: configReducer,\r\n  static: staticReducer,\r\n  internal: internalReducer,\r\n  misc: miscReducer\r\n});\r\n","import socketIOClient from \"socket.io-client\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  INPUT_PORT_STATE,\r\n  OUTPUT_PORT_STATE,\r\n  SERIAL_COM_STATE,\r\n  TABLE_CELL_STATE,\r\n  SELFLEARNING_STATE,\r\n  RECEIVE_IP,\r\n  RECEIVE_TIME,\r\n  TOGGLE_MENU,\r\n  OPEN_MENU,\r\n  CLOSE_MENU,\r\n  CONFIG_UNLOCK,\r\n  CONFIG_LOCK,\r\n  CONFIG_CHANGE,\r\n  RECEIVE_CONFIG,\r\n  RECEIVE_STATIC,\r\n  TABLE_FOUND_STATE,\r\n  RECEIVE_CONFIG_LIST,\r\n  RECEIVE_LOG_LIST\r\n} from \"./actions/types\";\r\n\r\nfunction api(store) {\r\n  const socket = socketIOClient();\r\n\r\n  const messageTypes = {\r\n    input: INPUT_PORT_STATE,\r\n    output: OUTPUT_PORT_STATE,\r\n    table: TABLE_CELL_STATE,\r\n    entry: SERIAL_COM_STATE,\r\n    selfLearning: SELFLEARNING_STATE,\r\n    ip: RECEIVE_IP,\r\n    time: RECEIVE_TIME,\r\n    notfound: TABLE_FOUND_STATE\r\n  };\r\n\r\n  for (let message in messageTypes) {\r\n    socket.on(message, payload => {\r\n      store.dispatch({ type: messageTypes[message], payload });\r\n    });\r\n  }\r\n\r\n  socket.on(\"clearserial\", () => {\r\n    store.getState().internal.coms.forEach((com, index) =>\r\n      store.dispatch({\r\n        type: SERIAL_COM_STATE,\r\n        payload: { entry: \"\", entryTime: new Date().getTime(), index }\r\n      })\r\n    );\r\n  });\r\n\r\n  function loadConfig(name) {\r\n    if (name) {\r\n      socket.emit(\"loadConfig\", name, config => {\r\n        store.dispatch({ type: RECEIVE_CONFIG, payload: JSON.parse(config) });\r\n      });\r\n    } else {\r\n      axios\r\n        .get(\"/config\")\r\n        .then(result => {\r\n          console.log(\"Got config\");\r\n          store.dispatch({ type: RECEIVE_CONFIG, payload: result.data });\r\n        })\r\n        .catch(err => console.log(\"/config\", err));\r\n    }\r\n  }\r\n\r\n  function loadStatic() {\r\n    axios.get(\"/static\").then(result => {\r\n      console.log(\"Got static\");\r\n      store.dispatch({ type: RECEIVE_STATIC, payload: result.data });\r\n      document.title = result.data.name;\r\n    });\r\n  }\r\n\r\n  function forceInput(index) {\r\n    console.log(\"forceinput\", index);\r\n    socket.emit(\"forceInput\", index);\r\n  }\r\n\r\n  function forceOutput(index) {\r\n    console.log(\"forceoutput\", index);\r\n    socket.emit(\"forceOutput\", index);\r\n  }\r\n\r\n  function tableManual(index, value) {\r\n    socket.emit(\"manual\", { index, value });\r\n  }\r\n\r\n  function getLog() {\r\n    return axios.get(\"/comlog\");\r\n  }\r\n\r\n  function getUniqueLog() {\r\n    return axios.get(\"/comlogu\");\r\n  }\r\n\r\n  function reboot() {\r\n    axios.get(\"/restart\");\r\n    setTimeout(() => {\r\n      loadConfig();\r\n      console.log(\"test\");\r\n    }, 5000);\r\n  }\r\n\r\n  function shutdown() {\r\n    axios.get(\"/shutdown\");\r\n  }\r\n\r\n  async function getLogo() {\r\n    let logo = false;\r\n    try {\r\n      await axios.get(\"/logo\");\r\n      logo = \"/logo\";\r\n    } finally {\r\n      return logo;\r\n    }\r\n  }\r\n\r\n  function toggleMenu() {\r\n    store.dispatch({ type: TOGGLE_MENU });\r\n  }\r\n\r\n  function openMenu() {\r\n    store.dispatch({ type: OPEN_MENU });\r\n  }\r\n\r\n  function closeMenu() {\r\n    store.dispatch({ type: CLOSE_MENU });\r\n  }\r\n\r\n  function unlockConfig() {\r\n    store.dispatch({ type: CONFIG_UNLOCK });\r\n  }\r\n\r\n  function saveConfig(name) {\r\n    const newConfig = JSON.parse(JSON.stringify(store.getState().config));\r\n    delete newConfig.loaded;\r\n    delete newConfig.locked;\r\n    delete newConfig.hasChanged;\r\n\r\n    if (name) {\r\n      socket.emit(\"configExists\", name, ({ result, name }) => {\r\n        if (\r\n          !result ||\r\n          window.confirm(\"File already exists, do you want to overwrite?\")\r\n        ) {\r\n          socket.emit(\"saveConfig\", { name: name, config: newConfig });\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (store.getState().config.hasChanged) {\r\n      if (window.confirm(\"Are you sure you want to save these changes?\")) {\r\n        socket.emit(\"settings\", newConfig);\r\n        store.dispatch({ type: CONFIG_LOCK });\r\n        reboot();\r\n      } else {\r\n        window.location.reload();\r\n      }\r\n    } else {\r\n      store.dispatch({ type: CONFIG_LOCK });\r\n    }\r\n  }\r\n\r\n  function changeConfig(address, value, options) {\r\n    if (options && options.numeric) {\r\n      value = Number(value);\r\n    }\r\n    store.dispatch({ type: CONFIG_CHANGE, payload: { address, value } });\r\n  }\r\n\r\n  function getConfigList() {\r\n    socket.emit(\"getConfigList\", null, list => {\r\n      store.dispatch({ type: RECEIVE_CONFIG_LIST, payload: list });\r\n    });\r\n  }\r\n\r\n  function deleteConfig(name) {\r\n    if (window.confirm(\"Do you really want to delete \" + name + \"?\")) {\r\n      socket.emit(\"deleteConfig\", name);\r\n      getConfigList();\r\n    }\r\n  }\r\n\r\n  function downloadConfig(name) {\r\n    window.location.href = \"/downloadConfig?file=\" + name;\r\n  }\r\n\r\n  function deleteGeneralSL(key) {\r\n    socket.emit(\"deleteGeneralSL\", key);\r\n  }\r\n\r\n  function deleteIndividualSL(key) {\r\n    socket.emit(\"deleteIndividualSL\", key);\r\n  }\r\n\r\n  function getLogList() {\r\n    socket.emit(\"getLogList\", null, list => {\r\n      store.dispatch({ type: RECEIVE_LOG_LIST, payload: list });\r\n    });\r\n  }\r\n\r\n  function uploadLog(name, index) {\r\n    socket.emit(\"uploadLog\", { name, index });\r\n  }\r\n\r\n  function downloadLog(name) {\r\n    window.location.href = \"/downloadLog?file=\" + name;\r\n  }\r\n\r\n  function downloadAllLogs() {\r\n    window.location.href =\r\n      \"/downloadLog?multiFile=\" + store.getState().misc.logList;\r\n  }\r\n\r\n  function deleteAllLogs() {\r\n    const fileList = store.getState().misc.logList;\r\n    for (let i = 0; i < fileList.length; i++) {\r\n      socket.emit(\"deleteLog\", fileList[i]);\r\n    }\r\n    socket.emit(\"getLogList\");\r\n  }\r\n\r\n  function deleteLog(name) {\r\n    socket.emit(\"deleteLog\", name);\r\n    getLogList();\r\n  }\r\n\r\n  loadConfig();\r\n  loadStatic();\r\n\r\n  return {\r\n    forceInput,\r\n    forceOutput,\r\n    tableManual,\r\n    getLog,\r\n    getUniqueLog,\r\n    reboot,\r\n    shutdown,\r\n    getLogo,\r\n    toggleMenu,\r\n    openMenu,\r\n    closeMenu,\r\n    unlockConfig,\r\n    saveConfig,\r\n    changeConfig,\r\n    loadConfig,\r\n    getConfigList,\r\n    deleteConfig,\r\n    downloadConfig,\r\n    deleteGeneralSL,\r\n    deleteIndividualSL,\r\n    getLogList,\r\n    uploadLog,\r\n    deleteLog,\r\n    downloadLog,\r\n    downloadAllLogs,\r\n    deleteAllLogs\r\n  };\r\n}\r\n\r\nexport default api;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore } from \"redux\";\r\n\r\nimport App from \"./App\";\r\nimport reducer from \"./reducers/rootReducer\";\r\nimport api from \"./api\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"./styles/global.scss\";\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App api={api(store)} />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","function stringMapFromArray(array) {\r\n  const result = {};\r\n  array.forEach(elem => {\r\n    result[elem] = elem;\r\n  });\r\n  return result;\r\n}\r\n\r\nconst actionTypes = [\r\n  \"RECEIVE_TIME\",\r\n  \"RECEIVE_IP\",\r\n  \"TOGGLE_MENU\",\r\n  \"OPEN_MENU\",\r\n  \"CLOSE_MENU\",\r\n  \"RECEIVE_CONFIG\",\r\n  \"RECEIVE_STATIC\",\r\n  \"INPUT_PORT_STATE\",\r\n  \"OUTPUT_PORT_STATE\",\r\n  \"SERIAL_COM_STATE\",\r\n  \"TABLE_CELL_STATE\",\r\n  \"SELFLEARNING_STATE\",\r\n  \"CONFIG_UNLOCK\",\r\n  \"CONFIG_LOCK\",\r\n  \"CONFIG_CHANGE\",\r\n  \"TABLE_FOUND_STATE\",\r\n  \"SERIAL_CLEAR\",\r\n  \"RECEIVE_CONFIG_LIST\",\r\n  \"RECEIVE_LOG_LIST\"\r\n];\r\n\r\nmodule.exports = stringMapFromArray(actionTypes);\r\n","module.exports = __webpack_public_path__ + \"static/media/Logo-MBDC.645b4549.jpg\";"],"sourceRoot":""}